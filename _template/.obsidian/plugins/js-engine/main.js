/*
-------------------------------------------
JS Engine - Release Build
-------------------------------------------
By: Moritz Jung (https://www.moritzjung.dev/)
Time: Sun, 18 Aug 2024 21:20:50 GMT
Version: 0.1.10
-------------------------------------------
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
-------------------------------------------
Copyright (C) 2024 Moritz Jung
-------------------------------------------
This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.

This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License for more details.

You should have received a copy of the GNU General Public License along with this program.  If not, see <https://www.gnu.org/licenses/>.
*/

"use strict";var ef=Object.create;var wi=Object.defineProperty;var tf=Object.getOwnPropertyDescriptor;var rf=Object.getOwnPropertyNames;var nf=Object.getPrototypeOf,of=Object.prototype.hasOwnProperty;var Rr=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),Bu=(t,e)=>{for(var r in e)wi(t,r,{get:e[r],enumerable:!0})},Uu=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of rf(e))!of.call(t,i)&&i!==r&&wi(t,i,{get:()=>e[i],enumerable:!(n=tf(e,i))||n.enumerable});return t};var Or=(t,e,r)=>(r=t!=null?ef(nf(t)):{},Uu(e||!t||!t.__esModule?wi(r,"default",{value:t,enumerable:!0}):r,t)),sf=t=>Uu(wi({},"__esModule",{value:!0}),t);var Xi=Rr(Fe=>{"use strict";Object.defineProperty(Fe,"__esModule",{value:!0});Fe.P_HELPERS=Fe.ParserHelpers=Fe.validateRegexFlags=Fe.validateRange=Fe.getIndex=Fe.arrayUnion=void 0;var cu=Xn();function Cd(t,e){if(!(t===void 0&&e===void 0)){if(t===void 0)return e;if(e===void 0)return t;for(let r of e)t.includes(r)||t.push(r);return t}}Fe.arrayUnion=Cd;function Rd(t){return t===void 0?-1:t.index}Fe.getIndex=Rd;function Od(t,e){if(e<t)throw new Error(`Invalid Range: max might not be smaller than min. Received [${t}, ${e}].`);if(t<0||e<0)throw new Error(`Invalid Range: max and min might not be smaller than 0. Received [${t}, ${e}].`);if(t===1/0||e===1/0)throw new Error(`Invalid Range: max and min might not be infinity. Received [${t}, ${e}].`);if(!Number.isInteger(t)||!Number.isInteger(e))throw new Error(`Invalid Range: max and min must be integers. Received [${t}, ${e}].`)}Fe.validateRange=Od;function Nd(t){for(let e of t)if(e!=="i"&&e!=="m"&&e!=="s"&&e!=="u")throw new Error(`RegExp flag '${e}' is not allowed. The only allowed flags are 'i', 'm', 's' and 'u'.`)}Fe.validateRegexFlags=Nd;var Zi=class{followedBy(e){return new cu.Parser(function(n){return e.p(n.copy())})}notFollowedBy(e){return new cu.Parser(function(n){let i=n.copy(),o=e.p(i),s=n.sliceTo(i.position.index);return o.success?n.fail("not '"+s+"'"):n.succeed(void 0)})}test(e){return new cu.Parser(function(n){let i=n.input[n.position.index];return!n.atEOF()&&e(i)?n.succeedOffset(1,i):n.fail(`a character matching ${e}`)})}};Fe.ParserHelpers=Zi;Fe.P_HELPERS=new Zi});var pu=Rr(eo=>{"use strict";Object.defineProperty(eo,"__esModule",{value:!0});eo.ParserContext=void 0;var fu=Xi(),du=class t{constructor(e,r){this.input=e,this.position=r}moveToPosition(e){return this.position=e,this}copy(){return new t(this.input,{index:this.position.index,column:this.position.column,line:this.position.line})}getPosition(){return{index:this.position.index,column:this.position.column,line:this.position.line}}atEOF(){return this.position.index>=this.input.length}advanceTo(e){if(e<this.position.index)throw new Error(`Can not advance backwards. Current pos ${this.position.index}. Advance target index ${e}.`);if(e!==this.position.index){for(let r=this.position.index;r<e;r++)this.input[r]===`
`?(this.position.line+=1,this.position.column=1):this.position.column+=1;this.position.index=e}}sliceTo(e){return this.input.slice(this.position.index,e)}succeedOffset(e,r){return this.succeedAt(this.position.index+e,r)}failOffset(e,r){return this.failAt(this.position.index+e,r)}succeed(e){return this.succeedAt(this.position.index,e)}fail(e){return this.failAt(this.position.index,e)}succeedAt(e,r){return this.advanceTo(e),{success:!0,value:r,furthest:void 0,expected:void 0}}failAt(e,r){return this.advanceTo(e),{success:!1,value:void 0,furthest:this.position,expected:Array.isArray(r)?r:[r]}}merge(e,r){if(e===void 0)return r;let n=(0,fu.getIndex)(e.furthest),i=(0,fu.getIndex)(r.furthest);if(i>n)return r;let o=i===n?(0,fu.arrayUnion)(e.expected,r.expected):e.expected;return r.furthest=e.furthest,r.expected=o,r}};eo.ParserContext=du});var mu=Rr(ro=>{"use strict";Object.defineProperty(ro,"__esModule",{value:!0});ro.P_UTILS=void 0;var to=Xn(),X=no(),hu=class t{static position(){return new to.Parser(e=>e.succeed(e.getPosition()))}static any(){return new to.Parser(e=>e.atEOF()?e.fail("any character"):e.succeedOffset(1,e.input[e.position.index]))}static remaining(){return new to.Parser(e=>e.succeedAt(e.input.length,e.input.slice(e.position.index)))}static eof(){return new to.Parser(e=>e.atEOF()?e.succeed(void 0):e.fail("eof"))}static digit(){return X.P.regexp(/^[0-9]/).describe("a digit")}static digits(){return X.P.regexp(/^[0-9]+/).describe("multiple digits")}static letter(){return X.P.regexp(/^[a-z]/i).describe("a letter")}static letters(){return X.P.regexp(/^[a-z]+/i).describe("multiple letters")}static unicodeLetter(){return X.P.regexp(/^\p{L}/iu).describe("a unicode letter")}static unicodeLetters(){return X.P.regexp(/^\p{L}+/iu).describe("multiple unicode letters")}static unicodeAlphanumeric(){return X.P.regexp(/^[\p{L}\p{N}]/iu).describe("a unicode alphanumeric character")}static unicodeAlphanumerics(){return X.P.regexp(/^[\p{L}\p{N}]+/iu).describe("multiple unicode alphanumeric characters")}static optionalWhitespace(){return X.P.regexp(/^\s*/).describe("optional whitespace")}static whitespace(){return X.P.regexp(/^\s+/).describe("whitespace")}static cr(){return X.P.string("\r")}static lf(){return X.P.string(`
`)}static crlf(){return X.P.string(`\r
`)}static newline(){return X.P.or(this.crlf(),this.lf(),this.cr()).describe("newline")}static prefix(e,r,n){return X.P.sequenceMap((i,o)=>i.reduce((s,a)=>n(a,s),o),e.many(),r)}static postfix(e,r,n){return X.P.sequenceMap((i,o)=>o.reduce((s,a)=>n(a,s),i),r,e.many())}static binaryRight(e,r,n){return X.P.sequenceMap((i,o)=>i.reverse().reduce((s,a)=>{let[u,l]=a;return n(u,l,s)},o),X.P.sequence(r,e.trim(this.optionalWhitespace())).many(),r)}static binaryLeft(e,r,n){return X.P.sequenceMap((i,o)=>o.reduce((s,a)=>{let[u,l]=a;return n(s,u,l)},i),r,X.P.sequence(e.trim(this.optionalWhitespace()),r).many())}static binaryRightRange(e,r,n){return X.P.sequenceMap((i,o,s)=>i.reverse().reduce((a,u)=>{let[l,f,h]=u;return n({from:l,to:s},f,h,a)},o),X.P.sequence(t.position(),r,e.trim(this.optionalWhitespace())).many(),r,t.position())}static binaryLeftRange(e,r,n){return X.P.sequenceMap((i,o,s)=>s.reduce((a,u)=>{let[l,f,h]=u;return n({from:i,to:h},a,l,f)},o),t.position(),r,X.P.sequence(e.trim(this.optionalWhitespace()),r,t.position()).many())}static func(e,r,n){let i=typeof e=="string"?X.P.string(e):e;return X.P.sequenceMap((o,s,a,u,l,f)=>n(o,u),i,X.P.string("("),this.optionalWhitespace(),r,this.optionalWhitespace(),X.P.string(")"))}};ro.P_UTILS=hu});var _u=Rr(nn=>{"use strict";Object.defineProperty(nn,"__esModule",{value:!0});nn.ParsingError=nn.createParsingErrorMessage=void 0;function uc(t,e,r){let n=`Expected ${e.expected.sort().join(" or ")}`,i=`Parse Failure: ${n} at index ${e.furthest.index}, line ${e.furthest.line}, column ${e.furthest.column}.`;if(r){let s=t.split(`
`)[e.furthest.line-1],a=`${e.furthest.line} |   `;i+=`

${a}${s}`,i+=`
${" ".repeat(e.furthest.column-1+a.length)}^ (${n})`}return i}nn.createParsingErrorMessage=uc;var yu=class extends Error{constructor(e,r){super(uc(e,r,!0))}};nn.ParsingError=yu});var Xn=Rr(io=>{"use strict";Object.defineProperty(io,"__esModule",{value:!0});io.Parser=void 0;var Ld=pu(),nt=no(),vu=Xi(),on=mu(),Dd=_u(),gu=class t{constructor(e){this.p=e}tryParse(e){return this.p(new Ld.ParserContext(e,{index:0,line:1,column:1}))}parse(e){let r=this.tryParse(e);if(r.success)return r.value;throw new Dd.ParsingError(e,r)}or(e){return nt.P.or(this,e)}trim(e){return this.wrap(e,e)}trimString(e){return this.trim(nt.P.string(e))}wrap(e,r){let n=this;return new t(function(o){let s=e.p(o);if(!s.success)return s;let a=o.merge(s,n.p(o));if(!a.success)return a;let u=o.merge(a,r.p(o));return u.success?o.merge(u,o.succeed(a.value)):u})}wrapString(e,r){return this.wrap(nt.P.string(e),nt.P.string(r))}then(e){let r=this;return new t(function(i){let o=r.p(i);if(!o.success)return o;let s=i.merge(o,e.p(i));return s.success,s})}skip(e){let r=this;return new t(function(i){let o=r.p(i);if(!o.success)return o;let s=i.merge(o,e.p(i));return s.success?i.merge(s,i.succeed(o.value)):s})}and(e){return nt.P.sequence(this,e)}many(){let e=this;return new t(function(n){let i,o=n.position.index,s=[];for(;;){let a=n.copy(),u=e.p(a);if(i=n.merge(i,u),i.success){if(a.position.index===o)throw new Error("infinite loop in many() parser detected");n.moveToPosition(a.position),s.push(i.value)}else return n.merge(i,n.succeed(s))}})}repeat(e,r){(0,vu.validateRange)(e,r);let n=this;return new t(function(o){let s,a,u=[],l=0;for(;l<e;l++)if(s=n.p(o),a=o.merge(a,s),s.success)u.push(s.value);else return a;for(;l<r;l++){let f=o.copy();if(s=n.p(f),a=o.merge(a,s),s.success)o.moveToPosition(f.position),u.push(s.value);else break}return o.merge(a,o.succeed(u))})}atMost(e){return this.repeat(0,e)}atLeast(e){return nt.P.sequenceMap((r,n)=>r.concat(n),this.repeat(e,e),this.many())}separateBy(e){return nt.P.separateBy(this,e)}separateByNotEmpty(e){return nt.P.separateByNotEmpty(this,e)}result(e){return this.map(()=>e)}map(e){let r=this;return new t(function(i){let o=r.p(i);return o.success&&(o.value=e(o.value)),o})}marker(){return nt.P.sequenceMap(function(r,n,i){return{value:n,range:{from:r,to:i}}},on.P_UTILS.position(),this,on.P_UTILS.position())}namedMarker(e){return nt.P.sequenceMap(function(n,i,o){return{value:i,name:e,range:{from:n,to:o}}},on.P_UTILS.position(),this,on.P_UTILS.position())}node(e){return nt.P.sequenceMap(function(n,i,o){return e(i,{from:n,to:o})},on.P_UTILS.position(),this,on.P_UTILS.position())}followedBy(e){return this.skip(vu.P_HELPERS.followedBy(e))}notFollowedBy(e){return this.skip(vu.P_HELPERS.notFollowedBy(e))}describe(e){typeof e=="string"&&(e=[e]);let r=this;return new t(function(i){let o=r.p(i);return o.expected!==void 0&&o.expected.length!==0&&(o.expected=e),o})}box(e){let r=this;return new t(function(i){var o;let s=r.p(i);return s.expected!==void 0&&s.expected.length!==0&&(s.expected=[`(${(o=s.expected)===null||o===void 0?void 0:o.join(" or ")} as part of ${e})`]),s})}optional(e){return this.or(nt.P.succeed(e))}chain(e){let r=this;return new t(function(i){let o=r.p(i);if(!o.success)return o;let a=e(o.value).p(i);return i.merge(o,a)})}thenEof(){let e=this;return new t(function(n){let i=e.p(n);return i.success?n.atEOF()?i:n.merge(i,n.fail("eof")):i})}memorize(){let e=this,r="",n=new Map,i=new Map;return new t(function(s){let a=s.position.index;if(s.input!==r)r=s.input,n.clear(),i.clear();else{let l=n.get(a),f=i.get(a);if(l!==void 0&&f!==void 0)return s.moveToPosition(Object.assign({},f)),Object.assign({},l)}let u=e.p(s);return n.set(a,Object.assign({},u)),i.set(a,s.getPosition()),u})}};io.Parser=gu});var no=Rr(so=>{"use strict";Object.defineProperty(so,"__esModule",{value:!0});so.P=void 0;var Ye=Xn(),oo=Xi(),xu=class t{static sequence(...e){if(e.length===0)throw new Error("sequence must have at least one parser argument");return new Ye.Parser(function(n){let i,o=new Array(e.length);for(let s=0;s<e.length;s++){let u=e[s].p(n);if(i=n.merge(i,u),!i.success)return i;o[s]=i.value}return i.value=o,i})}static sequenceMap(e,...r){if(r.length===0)throw new Error("sequenceMap must have at least one parser argument");return new Ye.Parser(function(i){let o,s=new Array(r.length);for(let a=0;a<r.length;a++){let l=r[a].p(i);if(o=i.merge(o,l),!o.success)return o;s[a]=o.value}return o.value=e(...s),o})}static createLanguage(e){let r={},n={},i={};for(let o in e)i[o]=t.reference(()=>e[o](r,i)),Object.defineProperty(n,o,{get:()=>{if(r[o]!==void 0)return r[o];throw new Error(`Can not access rule '${o}' in language. Rule is not yet defined. Try to access it via 'ref'.`)}});for(let o in e)r[o]=e[o](n,i);return r}static or(...e){if(e.length===0)throw new Error("or must have at least one alternative");return new Ye.Parser(function(n){let i;for(let o of e){let s=o,a=n.copy(),u=s.p(a);if(i=n.merge(i,u),i.success)return n.moveToPosition(a.position),i}return i})}static separateBy(e,r){return this.separateByNotEmpty(e,r).or(t.succeed([]))}static separateByNotEmpty(e,r){return this.sequenceMap(function(i,o){return o.unshift(i),o},e,r.then(e).many())}static string(e){let r="'"+e+"'";return new Ye.Parser(function(i){for(let o=0;o<e.length;o++)if(i.input[i.position.index+o]!==e[o])return i.fail(r);return i.succeedAt(i.position.index+e.length,e)})}static regexp(e,r){(0,oo.validateRegexFlags)(e.flags);let n=e.source;return r!==void 0?new Ye.Parser(function(o){let s=o.input.slice(o.position.index),a=e.exec(s);if(a!==null){let u=r??0;if(u>=0&&u<=a.length){let f=a[0],h=a[u];return o.succeedOffset(f.length,h)}let l="expected valid match group (0 to "+a.length+") in "+n;return o.fail(l)}else return o.fail(n)}):new Ye.Parser(function(o){let s=o.input.slice(o.position.index),a=e.exec(s);if(a!==null){let u=a[0];return o.succeedOffset(u.length,u)}else return o.fail(n)})}static succeed(e){return new Ye.Parser(function(n){return n.succeed(e)})}static fail(e){return new Ye.Parser(function(n){return n.fail(e)})}static oneOf(e){return oo.P_HELPERS.test(function(n){return e.includes(n)}).describe(`one character of '${e}'`)}static noneOf(e){return oo.P_HELPERS.test(function(n){return!e.includes(n)}).describe(`no character of '${e}'`)}static oneStringOf(e){return this.or(...e.map(r=>this.string(r))).describe(e.map(r=>`'${r}'`).join(" or "))}static manyOf(e){return new Ye.Parser(function(n){let i=n.position.index;for(;i<n.input.length&&e.includes(n.input[i]);i++);return n.succeedAt(i,n.sliceTo(i))})}static manyNotOf(e){return new Ye.Parser(function(n){let i=n.position.index;for(;i<n.input.length&&!e.includes(n.input[i]);i++);return n.succeedAt(i,n.sliceTo(i))})}static custom(e){return new Ye.Parser(e)}static range(e,r){let n=e.charCodeAt(0),i=r.charCodeAt(0);return oo.P_HELPERS.test(function(s){let a=s.charCodeAt(0);return n<=a&&a<=i}).describe(`${e}-${r}`)}static takeWhile(e){return new Ye.Parser(function(n){let i=n.position.index;for(;i<n.input.length&&e(n.input[i]);)i++;return n.succeedAt(i,n.input.slice(n.position.index,i))})}static reference(e){return new Ye.Parser(function(n){return e().p(n)})}};so.P=xu});var sp={};Bu(sp,{default:()=>ca});module.exports=sf(sp);var kc=require("obsidian");var af=require("obsidian"),Wu={};var sr=require("obsidian");var _0=require("obsidian");var Yi=require("obsidian");var oc=require("obsidian");var zu="5";typeof window<"u"&&(window.__svelte||={v:new Set}).v.add(zu);var Nr="[",cr="[!",fr="]",zt={};var dr=Symbol(),Ae=Symbol("filename"),Ju=Symbol("hmr");var Lr="font-weight: bold",Dr="font-weight: normal";function Hu(t,e,r){console.warn("hydration_attribute_changed")}function Vu(t){console.warn("hydration_html_changed")}function Fr(t){console.warn("hydration_mismatch")}function Gu(){console.warn("lifecycle_double_unmount")}function _a(t,e){console.warn("ownership_invalid_mutation")}function Ei(t,e){console.warn("state_proxy_equality_mismatch")}var P=!1;function Ce(t){P=t}var L;function le(t){return L=t}function be(){if(L===null)throw Fr(),zt;return L=L.nextSibling}function D(t){P&&(L=t)}function Ht(){P&&be()}function kn(){for(var t=0,e=L;;){if(e.nodeType===8){var r=e.data;if(r===fr){if(t===0)return e;t-=1}else(r===Nr||r===cr)&&(t+=1)}var n=e.nextSibling;e.remove(),e=n}}var G=Symbol("$state"),In=Symbol("$state.frozen"),Yu=Symbol("");var ht=Array.isArray,Ku=Array.from,va=Object.keys;var Mn=Object.isFrozen;var Re=Object.defineProperty,pr=Object.getOwnPropertyDescriptor,ga=Object.getOwnPropertyDescriptors,xa=Object.prototype,Qu=Array.prototype,hr=Object.getPrototypeOf;function ba(t){return typeof t=="function"}var ut=()=>{};function Pn(t){for(var e=0;e<t.length;e++)t[e]()}var uf=typeof requestIdleCallback>"u"?t=>setTimeout(t,1):requestIdleCallback,Ai=!1,$i=!1,wa=[],Ea=[];function Zu(){Ai=!1;let t=wa.slice();wa=[],Pn(t)}function Xu(){$i=!1;let t=Ea.slice();Ea=[],Pn(t)}function We(t){Ai||(Ai=!0,queueMicrotask(Zu)),wa.push(t)}function el(t){$i||($i=!0,uf(Xu)),Ea.push(t)}function tl(){Ai&&Zu(),$i&&Xu()}var lf={},cf=/at (?:.+ \()?(.+):(\d+):(\d+)\)?$/,ff=/@(.+):(\d+):(\d+)$/;function df(){let t=new Error().stack;if(!t)return null;let e=[];for(let r of t.split(`
`)){let n=cf.exec(r)??ff.exec(r);n&&e.push({file:n[1],line:+n[2],column:+n[3]})}return e}function rl(){let t=df()?.slice(4);if(!t)return null;for(let e=0;e<t.length;e++){let r=t[e],n=lf[r.file];if(!n){if(e===0)return null;continue}for(let i of n)if(i.start.line<r.line&&i.end.line>r.line)return i.component}return null}var pf=Symbol("ADD_OWNER");function Aa(t,e){if(e.owners!==null)for(;t;){if(t.owners===null){e.owners=null;break}for(let r of t.owners)e.owners.add(r);t=t.parent}}function nl(t,e){return t.owners===null?!0:t.owners.has(e)||t.parent!==null&&nl(t.parent,e)}function il(t){return t?.owners?.values().next().value??il(t.parent)}var hf=!1;function ol(t){if(hf)return;let e=rl();if(e&&!nl(t,e)){let r=il(t);r[Ae]!==e[Ae]?_a(e[Ae],r[Ae]):_a()}}function Ti(t){return t===this.v}function Cn(t,e){return t!=t?e==e:t!==e||t!==null&&typeof t=="object"||typeof t=="function"}function qr(t){return!Cn(t,this.v)}function Ta(){if(!1){let t=new Error("bind_invalid_checkbox_value\nUsing `bind:value` together with a checkbox input is not allowed. Use `bind:checked` instead");throw t.name="Svelte error",t}else throw new Error("bind_invalid_checkbox_value")}function sl(t){if(!1){let e=new Error(`effect_in_teardown
\`${t}\` cannot be used inside an effect cleanup function`);throw e.name="Svelte error",e}else throw new Error("effect_in_teardown")}function al(){if(!1){let t=new Error("effect_in_unowned_derived\nEffect cannot be created inside a `$derived` value that was not itself created inside an effect");throw t.name="Svelte error",t}else throw new Error("effect_in_unowned_derived")}function ul(t){if(!1){let e=new Error(`effect_orphan
\`${t}\` can only be used inside an effect (e.g. during component initialisation)`);throw e.name="Svelte error",e}else throw new Error("effect_orphan")}function ll(){if(!1){let t=new Error(`effect_update_depth_exceeded
Maximum update depth exceeded. This can happen when a reactive block or effect repeatedly sets a new value. Svelte limits the number of nested updates to prevent infinite loops`);throw t.name="Svelte error",t}else throw new Error("effect_update_depth_exceeded")}function cl(){if(!1){let t=new Error(`hydration_failed
Failed to hydrate the application`);throw t.name="Svelte error",t}else throw new Error("hydration_failed")}function fl(t){if(!1){let e=new Error(`props_invalid_value
Cannot do \`bind:${t}={undefined}\` when \`${t}\` has a fallback value`);throw e.name="Svelte error",e}else throw new Error("props_invalid_value")}function dl(t){if(!1){let e=new Error(`rune_outside_svelte
The \`${t}\` rune is only available inside \`.svelte\` and \`.svelte.js/ts\` files`);throw e.name="Svelte error",e}else throw new Error("rune_outside_svelte")}function pl(){if(!1){let t=new Error("state_prototype_fixed\nCannot set prototype of `$state` object");throw t.name="Svelte error",t}else throw new Error("state_prototype_fixed")}function hl(){if(!1){let t=new Error("state_unsafe_mutation\nUpdating state inside a derived is forbidden. If the value should not be reactive, declare it without `$state`");throw t.name="Svelte error",t}else throw new Error("state_unsafe_mutation")}var Sa=new Set;function ce(t){return{f:0,v:t,reactions:null,equals:Ti,version:0}}function Pt(t){let e=ce(t);return e.equals=qr,W!==null&&W.l!==null&&(W.l.s??=[]).push(e),e}function V(t,e){if(se!==null&&Rn()&&se.f&2&&hl(),!t.equals(e)&&(t.v=e,t.version=Si(),yl(t,1024),Rn()&&B!==null&&B.f&512&&!(B.f&32)&&(ye!==null&&ye.includes(t)?(Oe(B,1024),jr(B)):Mt===null?_l([t]):Mt.push(t)),!1)){for(let r of Sa)mr(r);Sa.clear()}return e}function yl(t,e){var r=t.reactions;if(r!==null)for(var n=Rn(),i=r.length,o=0;o<i;o++){var s=r[o],a=s.f;if(!(a&1024)&&!(!n&&s===B)){if(!1){Sa.add(s);continue}Oe(s,e),a&640&&(a&2?yl(s,2048):jr(s))}}}var ka=!1;function yr(t){let e=1026;B===null&&(e|=128);let r={deps:null,deriveds:null,equals:Ti,f:e,first:null,fn:t,last:null,reactions:null,v:null,version:0};if(se!==null&&se.f&2){var n=se;n.deriveds===null?n.deriveds=[r]:n.deriveds.push(r)}return r}function Ia(t){let e=yr(t);return e.equals=qr,e}function vl(t){On(t);var e=t.deriveds;if(e!==null){t.deriveds=null;for(var r=0;r<e.length;r+=1)mf(e[r])}}function Ma(t){var e=ka;ka=!0,vl(t);var r=Pa(t);ka=e;var n=(_r||t.f&128)&&t.deps!==null?2048:512;Oe(t,n),t.equals(r)||(t.v=r,t.version=Si())}function mf(t){vl(t),Br(t,0),Oe(t,8192),t.first=t.last=t.deps=t.reactions=t.fn=null}function ki(t){if(!1){let e=new Error(`lifecycle_outside_component
\`${t}(...)\` can only be used during component initialisation`);throw e.name="Svelte error",e}else throw new Error("lifecycle_outside_component")}var wl=0,gf=1,gl=new WeakSet,Ii=wl,Nn=!1,gr=!1,Ri=!1;function Ra(t){gr=t}function Oa(t){Ri=t}var vr=[],Ur=0,se=null;function Oi(t){se=t}var B=null;var ye=null,we=0,Mt=null;function _l(t){Mt=t}var El=0,_r=!1,Na=!1,xf=new Set,W=null;var ze=null;function Si(){return El++}function Rn(){return W!==null&&W.l===null}function zr(t){var e=t.f;if(e&1024)return!0;if(e&2048){var r=t.deps;if(r!==null){var n=(e&128)!==0,i;if(e&256){for(i=0;i<r.length;i++)(r[i].reactions??=[]).push(t);t.f^=256}for(i=0;i<r.length;i++){var o=r[i];if(zr(o)&&Ma(o),o.version>t.version)return!0;n&&!_r&&!o?.reactions?.includes(t)&&(o.reactions??=[]).push(t)}}Oe(t,512)}return!1}function bf(t,e,r){if(!!1||gl.has(t)||r===null)throw t;let n=[],i=e.fn?.name;i&&n.push(i);let o=r;for(;o!==null;){var s=o.function?.[Ae];if(s){let l=s.split("/").pop();n.push(l)}o=o.p}let a=/Firefox/.test(navigator.userAgent)?"  ":"	";Re(t,"message",{value:t.message+`
${n.map(l=>`
${a}in ${l}`).join("")}
`});let u=t.stack;if(u){let l=u.split(`
`),f=[];for(let h=0;h<l.length;h++){let d=l[h];d.includes("svelte/src/internal")||f.push(d)}Re(t,"stack",{value:t.stack+f.join(`
`)})}throw gl.add(t),t}function Pa(t){var e=ye,r=we,n=Mt,i=se,o=_r;ye=null,we=0,Mt=null,se=t.f&96?null:t,_r=!gr&&(t.f&128)!==0;try{var s=(0,t.fn)(),a=t.deps;if(ye!==null){var u,l;if(a!==null){var f=we===0?ye:a.slice(0,we).concat(ye),h=f.length>16?new Set(f):null;for(l=we;l<a.length;l++)u=a[l],(h!==null?!h.has(u):!f.includes(u))&&Al(t,u)}if(a!==null&&we>0)for(a.length=we+ye.length,l=0;l<ye.length;l++)a[we+l]=ye[l];else t.deps=a=ye;if(!_r)for(l=we;l<a.length;l++){u=a[l];var d=u.reactions;d===null?u.reactions=[t]:d[d.length-1]!==t&&!d.includes(t)&&d.push(t)}}else a!==null&&we<a.length&&(Br(t,we),a.length=we);return s}finally{ye=e,we=r,Mt=n,se=i,_r=o}}function Al(t,e){let r=e.reactions,n=0;if(r!==null){n=r.length-1;let i=r.indexOf(t);i!==-1&&(n===0?e.reactions=null:(r[i]=r[n],r.pop()))}n===0&&e.f&2&&(Oe(e,2048),e.f&384||(e.f^=256),Br(e,0))}function Br(t,e){var r=t.deps;if(r!==null)for(var n=e===0?null:r.slice(0,e),i=new Set,o=e;o<r.length;o++){var s=r[o];i.has(s)||(i.add(s),(n===null||!n.includes(s))&&Al(t,s))}}function On(t,e=!1){var r=t.first;for(t.first=t.last=null;r!==null;){var n=r.next;ke(r,e),r=n}}function mr(t){var e=t.f;if(!(e&8192)){Oe(t,512);var r=t.ctx,n=B,i=W;if(B=t,W=r,!1){var o=ze;ze=t.component_function}try{e&16||On(t),La(t);var s=Pa(t);t.teardown=typeof s=="function"?s:null,t.version=El}catch(a){bf(a,t,W)}finally{B=n,W=i,!1}}}function $l(){Ur>1e3&&(Ur=0,ll()),Ur++}function Tl(t){var e=t.length;if(e!==0){$l();var r=gr;gr=!0;try{for(var n=0;n<e;n++){var i=t[n];if(i.first===null&&!(i.f&32))xl([i]);else{var o=[];Sl(i,o),xl(o)}}}finally{gr=r}}}function xl(t){var e=t.length;if(e!==0)for(var r=0;r<e;r++){var n=t[r];!(n.f&12288)&&zr(n)&&(mr(n),n.deps===null&&n.first===null&&n.nodes===null&&(n.teardown===null?Da(n):n.fn=null))}}function wf(){if(Nn=!1,Ur>1001)return;let t=vr;vr=[],Tl(t),Nn||(Ur=0)}function jr(t){Ii===wl&&(Nn||(Nn=!0,queueMicrotask(wf)));for(var e=t;e.parent!==null;){e=e.parent;var r=e.f;if(r&32){if(!(r&512))return;Oe(e,2048)}}vr.push(e)}function Sl(t,e){var r=t.first,n=[];e:for(;r!==null;){var i=r.f,o=(i&12288)===0,s=i&32,a=(i&512)!==0,u=r.first;if(o&&(!s||!a)){if(s&&Oe(r,512),i&8){if(!s&&zr(r)&&(mr(r),u=r.first),u!==null){r=u;continue}}else if(i&4)if(s||a){if(u!==null){r=u;continue}}else n.push(r)}var l=r.next;if(l===null){let d=r.parent;for(;d!==null;){if(t===d)break e;var f=d.next;if(f!==null){r=f;continue e}d=d.parent}}r=l}for(var h=0;h<n.length;h++)u=n[h],e.push(u),Sl(u,e)}function Jr(t){var e=Ii,r=vr;try{$l();let i=[];Ii=gf,vr=i,Nn=!1,Tl(r);var n=t?.();return tl(),(vr.length>0||i.length>0)&&Jr(),Ur=0,n}finally{Ii=e,vr=r}}function q(t){var e=t.f;if(e&8192)return t.v;if(Na&&xf.add(t),se!==null){var r=se.deps;ye===null&&r!==null&&r[we]===t?we++:(r===null||we===0||r[we-1]!==t)&&(ye===null?ye=[t]:ye[ye.length-1]!==t&&ye.push(t)),Mt!==null&&B!==null&&B.f&512&&!(B.f&32)&&Mt.includes(t)&&(Oe(B,1024),jr(B))}if(e&2){var n=t;zr(n)&&Ma(n)}return t.v}function de(t){let e=se;try{return se=null,t()}finally{se=e}}var Ef=-3585;function Oe(t,e){t.f=t.f&Ef|e}function Af(t){return typeof t=="object"&&t!==null&&typeof t.f=="number"}function Te(t,e=!1,r){W={p:W,c:null,e:null,m:!1,s:t,x:null,l:null},e||(W.l={s:null,u:null,r1:[],r2:ce(!1)}),!1}function Se(t){let e=W;if(e!==null){t!==void 0&&(e.x=t);let n=e.e;if(n!==null){e.e=null;for(var r=0;r<n.length;r++)He(n[r])}W=e.p,!1,e.m=!0}return t||{}}function Ni(t){if(!(typeof t!="object"||!t||t instanceof EventTarget)){if(G in t)Pi(t);else if(!Array.isArray(t))for(let e in t){let r=t[e];typeof r=="object"&&r&&G in r&&Pi(r)}}}function Pi(t,e=new Set){if(typeof t=="object"&&t!==null&&!(t instanceof EventTarget)&&!e.has(t)){e.add(t),t instanceof Date&&t.getTime();for(let n in t)try{Pi(t[n],e)}catch{}let r=hr(t);if(r!==Object.prototype&&r!==Array.prototype&&r!==Map.prototype&&r!==Set.prototype&&r!==Date.prototype){let n=ga(r);for(let i in n){let o=n[i].get;if(o)try{o.call(t)}catch{}}}}}function Ne(t){return Af(t)?q(t):t}if(!1){let t=function(e){if(!(e in globalThis)){let r;Object.defineProperty(globalThis,e,{configurable:!0,get:()=>{if(r!==void 0)return r;dl(e)},set:n=>{r=n}})}};t("$state"),t("$effect"),t("$derived"),t("$inspect"),t("$props"),t("$bindable")}function Ml(t){B===null&&se===null&&ul(t),se!==null&&se.f&128&&al(),Ri&&sl(t)}function kl(t,e){var r=e.last;r===null?e.last=e.first=t:(r.next=t,t.prev=r,e.last=t)}function Dn(t,e,r,n=!0){var i=(t&64)!==0,o={ctx:W,deps:null,nodes:null,f:t|1024,first:null,fn:e,last:null,next:null,parent:i?null:B,prev:null,teardown:null,transitions:null,version:0};if(!1,r){var s=gr;try{Ra(!0),mr(o),o.f|=16384}catch(u){throw ke(o),u}finally{Ra(s)}}else e!==null&&jr(o);var a=r&&o.deps===null&&o.first===null&&o.nodes===null&&o.teardown===null;return!a&&!i&&n&&(B!==null&&kl(o,B),se!==null&&se.f&2&&kl(o,se)),o}function Li(t){Ml("$effect");var e=B!==null&&(B.f&8)!==0&&W!==null&&!W.m;if(!1,e){var r=W;(r.e??=[]).push(t)}else{var n=He(t);return n}}function qa(t){let e=Dn(64,t,!0);return()=>{ke(e)}}function He(t){return Dn(4,t,!1)}function $e(t){return Dn(8,t,!0)}function ue(t){return!1,$e(t)}function Le(t,e=0){return Dn(24|e,t,!0)}function Ee(t,e=!0){return Dn(40,t,!0,e)}function La(t){var e=t.teardown;if(e!==null){let r=Ri,n=se;Oa(!0),Oi(null);try{e.call(null)}finally{Oa(r),Oi(n)}}}function ke(t,e=!0){var r=!1;if((e||t.f&262144)&&t.nodes!==null){for(var n=t.nodes.start,i=t.nodes.end;n!==null;){var o=n===i?null:n.nextSibling;n.remove(),n=o}r=!0}if(On(t,e&&!r),Br(t,0),Oe(t,8192),t.transitions)for(let a of t.transitions)a.stop();La(t);var s=t.parent;s!==null&&t.f&32&&s.first!==null&&Da(t),t.next=t.prev=t.teardown=t.ctx=t.deps=t.parent=t.fn=t.nodes=null}function Da(t){var e=t.parent,r=t.prev,n=t.next;r!==null&&(r.next=n),n!==null&&(n.prev=r),e!==null&&(e.first===t&&(e.first=n),e.last===t&&(e.last=r))}function Rt(t,e){var r=[];Di(t,r,!0),ja(r,()=>{ke(t),e&&e()})}function ja(t,e){var r=t.length;if(r>0){var n=()=>--r||e();for(var i of t)i.out(n)}else e()}function Di(t,e,r){if(!(t.f&4096)){if(t.f^=4096,t.transitions!==null)for(let s of t.transitions)(s.is_global||r)&&e.push(s);for(var n=t.first;n!==null;){var i=n.next,o=(n.f&32768)!==0||(n.f&32)!==0;Di(n,e,o?r:!1),n=i}}}function Yt(t){Pl(t,!0)}function Pl(t,e){if(t.f&4096){t.f^=4096,zr(t)&&mr(t);for(var r=t.first;r!==null;){var n=r.next,i=(r.f&32768)!==0||(r.f&32)!==0;Pl(r,i?e:!1),r=n}if(t.transitions!==null)for(let o of t.transitions)(o.is_global||e)&&o.in()}}function Kt(t,e=null,r){if(typeof t=="object"&&t!=null&&!Mn(t)&&!(In in t)){if(G in t){let i=t[G];if(i.t===t||i.p===t)return!1,i.p}let n=hr(t);if(n===xa||n===Qu){let i=new Proxy(t,Rl);if(Re(t,G,{value:{s:new Map,v:ce(0),a:ht(t),p:i,t},writable:!0,enumerable:!1}),!1)if(t[G].parent=e,r){let o=r?.v?.[G]?.owners;t[G].owners=o?new Set(o):null}else t[G].owners=e===null?W!==null?new Set([W.function]):null:new Set;return i}}return t}function Cl(t,e=1){V(t,t.v+e)}var Rl={defineProperty(t,e,r){if(r.value){let n=t[G],i=n.s.get(e);i!==void 0&&V(i,Kt(r.value,n))}return Reflect.defineProperty(t,e,r)},deleteProperty(t,e){let r=t[G],n=r.s.get(e),i=r.a,o=delete t[e];if(i&&o){let s=r.s.get("length"),a=t.length-1;s!==void 0&&s.v!==a&&V(s,a)}return n!==void 0&&V(n,dr),o&&Cl(r.v),o},get(t,e,r){if(e===G)return Reflect.get(t,G);let n=t[G],i=n.s.get(e);if(i===void 0&&(!(e in t)||pr(t,e)?.writable)&&(i=ce(Kt(t[e],n)),n.s.set(e,i)),i!==void 0){let o=q(i);return o===dr?void 0:o}return Reflect.get(t,e,r)},getOwnPropertyDescriptor(t,e){let r=Reflect.getOwnPropertyDescriptor(t,e);if(r&&"value"in r){let i=t[G].s.get(e);i&&(r.value=q(i))}return r},has(t,e){if(e===G)return!0;let r=t[G],n=Reflect.has(t,e),i=r.s.get(e);return(i!==void 0||B!==null&&(!n||pr(t,e)?.writable))&&(i===void 0&&(i=ce(n?Kt(t[e],r):dr),r.s.set(e,i)),q(i)===dr)?!1:n},set(t,e,r,n){let i=t[G],o=i.s.get(e);o===void 0&&(de(()=>n[e]),o=i.s.get(e)),o!==void 0&&V(o,Kt(r,i));let s=i.a,a=!(e in t);if(!1){let l=r?.[G];l&&l?.parent!==i&&Aa(i,l),ol(i)}if(s&&e==="length")for(let l=r;l<t.length;l+=1){let f=i.s.get(l+"");f!==void 0&&V(f,dr)}var u=Reflect.getOwnPropertyDescriptor(t,e);if(u?.set?u.set.call(n,r):t[e]=r,a){if(s){let l=i.s.get("length"),f=t.length;l!==void 0&&l.v!==f&&V(l,f)}Cl(i.v)}return!0},ownKeys(t){let e=t[G];return q(e.v),Reflect.ownKeys(t)}};!1;function Qt(t){if(t!==null&&typeof t=="object"&&G in t){var e=t[G];if(e)return e.p}return t}function Ol(){let t=Array.prototype,e=Array.__svelte_cleanup;e&&e();let{indexOf:r,lastIndexOf:n,includes:i}=t;t.indexOf=function(o,s){let a=r.call(this,o,s);return a===-1&&r.call(Qt(this),Qt(o),s)!==-1&&Ei("array.indexOf(...)",": `array.findIndex(entry => $state.is(entry, item))`"),a},t.lastIndexOf=function(o,s){let a=n.call(this,o,s??this.length-1);return a===-1&&n.call(Qt(this),Qt(o),s??this.length-1)!==-1&&Ei("array.lastIndexOf(...)",": `array.findLastIndex(entry => $state.is(entry, item))`"),a},t.includes=function(o,s){let a=i.call(this,o,s);return a||i.call(Qt(this),Qt(o),s)&&Ei("array.includes(...)",": `array.some(entry => $state.is(entry, item))`"),a},Array.__svelte_cleanup=()=>{t.indexOf=r,t.lastIndexOf=n,t.includes=i}}var Ba,Nl;function Ua(){if(Ba===void 0){Ba=window,Nl=document;var t=Element.prototype;t.__click=void 0,t.__className="",t.__attributes=null,t.__e=void 0,Text.prototype.__t=void 0,!1}}function Ve(){return document.createTextNode("")}function j(t){if(!P)return t.firstChild;var e=L.firstChild;return e===null&&(e=L.appendChild(Ve())),le(e),e}function vt(t,e){if(!P){var r=t.firstChild;return r instanceof Comment&&r.data===""?r.nextSibling:r}if(e&&L?.nodeType!==3){var n=Ve();return L?.before(n),le(n),n}return L}function S(t,e=!1){if(!P)return t.nextSibling;var r=L.nextSibling,n=r.nodeType;if(e&&n!==3){var i=Ve();return r?.before(i),le(i),i}return le(r),r}function Hr(t){t.textContent=""}var Wa=new Set,Fi=new Set;function Vr(t){for(var e=0;e<t.length;e++)Wa.add(t[e]);for(var r of Fi)r(t)}function Fn(t){var e=this,r=e.ownerDocument,n=t.type,i=t.composedPath?.()||[],o=i[0]||t.target,s=0,a=t.__root;if(a){var u=i.indexOf(a);if(u!==-1&&(e===document||e===window)){t.__root=e;return}var l=i.indexOf(e);if(l===-1)return;u<=l&&(s=u)}if(o=i[s]||t.target,o!==e){Re(t,"currentTarget",{configurable:!0,get(){return o||r}});try{for(var f,h=[];o!==null;){var d=o.parentNode||o.host||null;try{var y=o["__"+n];if(y!==void 0&&!o.disabled)if(ht(y)){var[g,...w]=y;g.apply(o,[t,...w])}else y.call(o,t)}catch(O){f?h.push(O):f=O}if(t.cancelBubble||d===e||d===null)break;o=d}if(f){for(let O of h)queueMicrotask(()=>{throw O});throw f}}finally{t.__root=e,o=e}}}var $f;function Ll(){$f=void 0}function qn(t){var e=document.createElement("template");return e.innerHTML=t,e.content}function De(t,e){B.nodes??={start:t,end:e}}function Z(t,e){var r=(e&1)!==0,n=(e&2)!==0,i,o=!t.startsWith("<!>");return()=>{if(P)return De(L,null),L;i||(i=qn(o?t:"<!>"+t),r||(i=i.firstChild));var s=n?document.importNode(i,!0):i.cloneNode(!0);if(r){var a=s.firstChild,u=s.lastChild;De(a,u)}else De(s,s);return s}}function za(){if(!P){var t=Ve();return De(t,t),t}var e=L;return e.nodeType!==3&&(e.before(e=Ve()),le(e)),De(e,e),e}function Ja(){if(P)return De(L,null),L;var t=document.createDocumentFragment(),e=document.createComment(""),r=Ve();return t.append(e,r),De(e,r),t}function H(t,e){if(P){B.nodes.end=L,be();return}t!==null&&t.before(e)}var kf=/\r/g;function Dl(t){t=t.replace(kf,"");let e=5381,r=t.length;for(;r--;)e=(e<<5)-e^t.charCodeAt(r);return(e>>>0).toString(36)}var If=["allowfullscreen","async","autofocus","autoplay","checked","controls","default","disabled","formnovalidate","hidden","indeterminate","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","seamless","selected","webkitdirectory"];var Fh=[...If,"formNoValidate","isMap","noModule","playsInline","readOnly","value","inert","volume"];var Mf=["wheel","touchstart","touchmove","touchend","touchcancel"];function Fl(t){return Mf.includes(t)}var qi=!0;function pe(t,e){(t.__t??=t.nodeValue)!==e&&(t.nodeValue=t.__t=e)}function Ie(t,e){let r=e.anchor??e.target.appendChild(Ve());return ql(t,{...e,anchor:r})}function Va(t,e){e.intro=e.intro??!1;let r=e.target,n=P,i=L;try{for(var o=r.firstChild;o&&(o.nodeType!==8||o.data!==Nr);)o=o.nextSibling;if(!o)throw zt;Ce(!0),le(o),be();let s=ql(t,{...e,anchor:o});if(L===null||L.nodeType!==8||L.data!==fr)throw Fr(),zt;return Ce(!1),s}catch(s){if(s===zt)return e.recover===!1&&cl(),Ua(),Hr(r),Ce(!1),Ie(t,e);throw s}finally{Ce(n),le(i),Ll()}}var Gr=new Map;function ql(t,{target:e,anchor:r,props:n={},events:i,context:o,intro:s=!0}){Ua();var a=new Set,u=h=>{for(var d=0;d<h.length;d++){var y=h[d];if(!a.has(y)){a.add(y);var g=Fl(y);e.addEventListener(y,Fn,{passive:g});var w=Gr.get(y);w===void 0?(document.addEventListener(y,Fn,{passive:g}),Gr.set(y,1)):Gr.set(y,w+1)}}};u(Ku(Wa)),Fi.add(u);var l=void 0,f=qa(()=>(Ee(()=>{if(o){Te({});var h=W;h.c=o}i&&(n.$$events=i),P&&De(r,null),qi=s,l=t(r,n)||{},qi=!0,P&&(B.nodes.end=L),o&&Se()}),()=>{for(var h of a){e.removeEventListener(h,Fn);var d=Gr.get(h);--d===0?(document.removeEventListener(h,Fn),Gr.delete(h)):Gr.set(h,d)}Fi.delete(u),Ha.delete(l)}));return Ha.set(l,f),l}var Ha=new WeakMap;function Ge(t){let e=Ha.get(t);!1,e?.()}function xt(t,e,r,n=null,i=!1){P&&be();var o=t,s=null,a=null,u=null,l=i?32768:0;Le(()=>{if(u===(u=!!e()))return;let f=!1;if(P){let h=o.data===cr;u===h&&(o=kn(),le(o),Ce(!1),f=!0)}u?(s?Yt(s):s=Ee(()=>r(o)),a&&Rt(a,()=>{a=null})):(a?Yt(a):n&&(a=Ee(()=>n(o))),s&&Rt(s,()=>{s=null})),f&&Ce(!0)},l),P&&(o=L)}var jn=null;function Un(t,e){return e}function Lf(t,e,r,n){for(var i=[],o=e.length,s=0;s<o;s++)Di(e[s].e,i,!0);var a=o>0&&i.length===0&&r!==null;if(a){var u=r.parentNode;Hr(u),u.append(r),n.clear(),Zt(t,e[0].prev,e[o-1].next)}ja(i,()=>{for(var l=0;l<o;l++){var f=e[l];a||(n.delete(f.k),Zt(t,f.prev,f.next)),ke(f.e,!a)}})}function Xt(t,e,r,n,i,o=null){var s=t,a={flags:e,items:new Map,first:null},u=(e&8)!==0;if(u){var l=t;s=P?le(l.firstChild):l.appendChild(Ve())}P&&be();var f=null;Le(()=>{var h=r(),d=ht(h)?h:h==null?[]:Array.from(h),y=d.length,g=a.flags;g&64&&!Mn(d)&&!(In in d)&&!(G in d)&&(g^=64,g&4&&!(g&1)&&(g^=1));let w=!1;if(P){var O=s.data===cr;O!==(y===0)&&(s=kn(),le(s),Ce(!1),w=!0)}if(P){for(var k=null,R,x=0;x<y;x++){if(L.nodeType===8&&L.data===fr){s=L,w=!0,Ce(!1);break}var b=d[x],U=n(b,x);R=Wl(L,a,k,null,b,U,x,i,g),a.items.set(U,R),k=R}y>0&&le(kn())}P||Df(d,a,s,i,g,n),o!==null&&(y===0?f?Yt(f):f=Ee(()=>o(s)):f!==null&&Rt(f,()=>{f=null})),w&&Ce(!0)}),P&&(s=L)}function Df(t,e,r,n,i,o){var s=(i&16)!==0,a=(i&3)!==0,u=t.length,l=e.items,f=e.first,h=f,d=new Set,y=null,g=new Set,w=[],O=[],k,R,x,b;if(s)for(b=0;b<u;b+=1)k=t[b],R=o(k,b),x=l.get(R),x!==void 0&&(x.a?.measure(),g.add(x));for(b=0;b<u;b+=1){if(k=t[b],R=o(k,b),x=l.get(R),x===void 0){var U=h?h.e.nodes.start:r;y=Wl(U,e,y,y===null?e.first:y.next,k,R,b,n,i),l.set(R,y),w=[],O=[],h=y.next;continue}if(a&&Ff(x,k,b,i),x.e.f&4096&&(Yt(x.e),s&&(x.a?.unfix(),g.delete(x))),x!==h){if(d.has(x)){if(w.length<O.length){var te=O[0],_;y=te.prev;var A=w[0],m=w[w.length-1];for(_=0;_<w.length;_+=1)Bl(w[_],te,r);for(_=0;_<O.length;_+=1)d.delete(O[_]);Zt(e,A.prev,m.next),Zt(e,y,A),Zt(e,m,te),h=te,y=m,b-=1,w=[],O=[]}else d.delete(x),Bl(x,h,r),Zt(e,x.prev,x.next),Zt(e,x,y===null?e.first:y.next),Zt(e,y,x),y=x;continue}for(w=[],O=[];h!==null&&h.k!==R;)d.add(h),O.push(h),h=h.next;if(h===null)continue;x=h}w.push(x),y=x,h=x.next}let ee=Array.from(d);for(;h!==null;)ee.push(h),h=h.next;var Y=ee.length;if(Y>0){var Pe=i&8&&u===0?r:null;if(s){for(b=0;b<Y;b+=1)ee[b].a?.measure();for(b=0;b<Y;b+=1)ee[b].a?.fix()}Lf(e,ee,Pe,l)}s&&We(()=>{for(x of g)x.a?.apply()}),B.first=e.first&&e.first.e,B.last=y&&y.e}function Ff(t,e,r,n){n&1&&V(t.v,e),n&2?V(t.i,r):t.i=r}function Wl(t,e,r,n,i,o,s,a,u){var l=jn;try{var f=(u&1)!==0,h=(u&64)===0,d=f?h?Pt(i):ce(i):i,y=u&2?ce(s):s,g={i:y,v:d,k:o,a:null,e:null,prev:r,next:n};return jn=g,g.e=Ee(()=>a(t,d,y),P),g.e.prev=r&&r.e,g.e.next=n&&n.e,r===null?e.first=g:(r.next=g,r.e.next=g.e),n!==null&&(n.prev=g,n.e.prev=g.e),g}finally{jn=l}}function Bl(t,e,r){for(var n=t.next?t.next.e.nodes.start:r,i=e?e.e.nodes.start:r,o=t.e.nodes.start;o!==n;){var s=o.nextSibling;i.before(o),o=s}}function Zt(t,e,r){e===null?t.first=r:(e.next=r,e.e.next=r&&r.e),r!==null&&(r.prev=e,r.e.prev=e&&e.e)}function qf(t,e,r){if(!e||e===Dl(String(r??"")))return;let n,i=t.__svelte_meta?.loc;i?n=`near ${i.file}:${i.line}:${i.column}`:ze?.[Ae]&&(n=`in ${ze[Ae]}`),Vu(n?.replace(/\//g,"/\u200B"))}function Ka(t,e,r,n,i){var o=t,s="",a;Le(()=>{s!==(s=e())&&(a&&(ke(a),a=null),s!==""&&(a=Ee(()=>{if(P){for(var u=L.data,l=be(),f=l;l!==null&&(l.nodeType!==8||l.data!=="");)f=l,l=l.nextSibling;if(l===null)throw Fr(),zt;!1,De(L,f),o=le(l);return}var h=s+"";r?h=`<svg>${h}</svg>`:n&&(h=`<math>${h}</math>`);var d=qn(h);if((r||n)&&(d=d.firstChild),De(d.firstChild,d.lastChild),r||n)for(;d.firstChild;)o.before(d.firstChild);else o.before(d)})))})}function Qa(t,e,...r){var n=t,i,o;Le(()=>{i!==(i=e())&&(o&&(ke(o),o=null),i&&(o=Ee(()=>i(n,...r))))},32768),P&&(n=L)}function Wn(t,e,r){He(()=>{var n=de(()=>e(t,r?.())||{});if(r&&n?.update){var i=!1,o={};$e(()=>{var s=r();Ni(s),i&&Cn(o,s)&&(o=s,n.update(s))}),i=!0}if(n?.destroy)return()=>n.destroy()})}function Za(t){P&&t.firstChild!==null&&Hr(t)}var zl=!1;function ji(){zl||(zl=!0,document.addEventListener("reset",t=>{Promise.resolve().then(()=>{if(!t.defaultPrevented)for(let e of t.target.elements)e.__on_r?.()})},{capture:!0}))}function Bi(t){if(P){var e=!1,r=()=>{if(!e){if(e=!0,t.hasAttribute("value")){var n=t.value;tt(t,"value",null),t.value=n}if(t.hasAttribute("checked")){var i=t.checked;tt(t,"checked",null),t.checked=i}}};t.__on_r=r,el(r),ji()}}function tt(t,e,r,n){r=r==null?null:r+"";var i=t.__attributes??={};if(P&&(i[e]=t.getAttribute(e),e==="src"||e==="href"||e==="srcset")){n||Uf(t,e,r);return}i[e]!==(i[e]=r)&&(e==="loading"&&(t[Yu]=r),r===null?t.removeAttribute(e):t.setAttribute(e,r))}function Uf(t,e,r){!1}function Xa(t,e){return t===e?!0:new URL(t,document.baseURI).href===new URL(e,document.baseURI).href}function Jl(t){return t.split(",").map(e=>e.trim().split(" ").filter(Boolean))}function Wf(t,e){var r=Jl(t.srcset),n=Jl(e??"");return n.length===r.length&&n.every(([i,o],s)=>o===r[s][1]&&(Xa(r[s][0],i)||Xa(i,r[s][0])))}function eu(t,e){var r=t.__className,n=zf(e);P&&t.className===n?t.__className=n:(r!==n||P&&t.className!==n)&&(e==null?t.removeAttribute("class"):t.className=n,t.__className=n)}function zf(t){return t??""}function Yr(t,e,r){if(r){if(t.classList.contains(e))return;t.classList.add(e)}else{if(!t.classList.contains(e))return;t.classList.remove(e)}}var Hl=typeof window<"u",Jf=Hl?requestAnimationFrame:ut,Hf=Hl?()=>performance.now():()=>Date.now(),rt={tick:t=>Jf(t),now:()=>Hf(),tasks:new Set};function Vl(t){rt.tasks.forEach(e=>{e.c(t)||(rt.tasks.delete(e),e.f())}),rt.tasks.size!==0&&rt.tick(Vl)}function Gl(t){let e;return rt.tasks.size===0&&rt.tick(Vl),{promise:new Promise(r=>{rt.tasks.add(e={c:t,f:r})}),abort(){rt.tasks.delete(e)}}}function Ui(t,e){t.dispatchEvent(new CustomEvent(e))}function Kf(t){let e=t.split("-");return e.length===1?e[0]:e[0]+e.slice(1).map(r=>r[0].toUpperCase()+r.slice(1)).join("")}function Yl(t){let e={},r=t.split(";");for(let n of r){let[i,o]=n.split(":");if(!i||o===void 0)break;let s=Kf(i.trim());e[s]=o.trim()}return e}var Qf=t=>t;function ru(t,e,r,n){var i=(t&1)!==0,o=(t&2)!==0,s=i&&o,a=(t&4)!==0,u=s?"both":i?"in":"out",l,f=e.inert,h,d,y;function g(){return l??=r()(e,n?.(),{direction:u})}var w={is_global:a,in(){e.inert=f,d?.abort(),h?.abort(),i?(Ui(e,"introstart"),h=tu(e,g(),d,1,()=>{Ui(e,"introend"),h=l=void 0},s?void 0:()=>{h=l=void 0})):y?.()},out(R){d?.abort(),o?(e.inert=!0,Ui(e,"outrostart"),d=tu(e,g(),h,0,()=>{Ui(e,"outroend"),d=l=void 0,R?.()},s?void 0:()=>{d=l=void 0}),y=d.reset):R?.()},stop:()=>{h?.abort(),d?.abort()}},O=B;if((O.transitions??=[]).push(w),i&&qi){let R=a;if(!R){for(var k=O.parent;k&&k.f&32768;)for(;(k=k.parent)&&!(k.f&16););R=!k||(k.f&16384)!==0}R&&He(()=>{de(()=>w.in())})}}function tu(t,e,r,n,i,o){var s=n===1;if(ba(e)){var a;return We(()=>{var x=e({direction:s?"in":"out"});a=tu(t,x,r,n,i,o)}),{abort:()=>a.abort(),deactivate:()=>a.deactivate(),reset:()=>a.reset(),t:x=>a.t(x)}}if(r?.deactivate(),!e?.duration)return i?.(),{abort:ut,deactivate:ut,reset:ut,t:()=>n};let{delay:u=0,css:l,tick:f,easing:h=Qf}=e;var d=rt.now()+u,y=r?.t(d)??1-n,g=n-y,w=e.duration*Math.abs(g),O=d+w,k,R;return l?We(()=>{var x=[],b=Math.ceil(w/16.666666666666668);if(s&&u>0){let A=Math.ceil(u/16.666666666666668),m=Yl(l(0,1));for(let ee=0;ee<A;ee+=1)x.push(m)}for(var U=0;U<=b;U+=1){var te=y+g*h(U/b),_=l(te,1-te);x.push(Yl(_))}k=t.animate(x,{delay:s?0:u,duration:w+(s?u:0),easing:"linear",fill:"forwards"}),k.finished.then(()=>{i?.(),n===1&&k.cancel()}).catch(A=>{if(k.startTime!==null&&k.currentTime!==null)throw A})}):(y===0&&f?.(0,1),R=Gl(x=>{if(x>=O)return f?.(n,1-n),i?.(),!1;if(x>=d){var b=y+g*h((x-d)/w);f?.(b,1-b)}return!0})),{abort:()=>{k?.cancel(),R?.abort(),o?.()},deactivate:()=>{i=void 0,o=void 0},reset:()=>{n===0&&f?.(1,0)},t:x=>{var b=y+g*h((x-d)/w);return Math.min(1,Math.max(0,b))}}}function nu(t,e,r,n=r){t.addEventListener(e,r);let i=t.__on_r;i?t.__on_r=()=>{i(),n()}:t.__on_r=n,ji()}function zn(t,e,r){nu(t,"input",()=>{!1,r(Kl(t)?Ql(t.value):t.value)}),$e(()=>{!1;var n=e();if(P&&t.defaultValue!==t.value){r(t.value);return}Kl(t)&&n===Ql(t.value)||t.type==="date"&&!n&&!t.value||(t.value=n??"")})}function Kl(t){var e=t.type;return e==="number"||e==="range"}function Ql(t){return t===""?null:+t}function Ot(t,e,r,n){var i=(r&1)!==0,o=(r&2)!==0,s=(r&8)!==0,a=t[e],u=pr(t,e)?.set,l=n,f=!0,h=()=>(s&&f&&(f=!1,l=de(n)),l);a===void 0&&n!==void 0&&(u&&o&&fl(e),a=h(),u&&u(a));var d;if(o)d=()=>{var x=t[e];return x===void 0?h():(f=!0,x)};else{var y=(i?yr:Ia)(()=>t[e]);y.f|=65536,d=()=>{var x=q(y);return x!==void 0&&(l=void 0),x===void 0?l:x}}if(!(r&4))return d;if(u){var g=t.$$legacy;return function(x,b){return arguments.length>0?((!o||!b||g)&&u(b?d():x),x):d()}}var w=!1,O=!1,k=Pt(a),R=yr(()=>{var x=d(),b=q(k);return w?(w=!1,O=!0,b):(O=!1,k.v=x)});return i||(R.equals=qr),function(x,b){var U=q(R);if(Na&&(w=O,d(),q(k)),arguments.length>0){let te=b?q(R):x;return R.equals(te)||(w=!0,V(k,te),q(R)),x}return U}}function Xl(t){return new iu(t)}var iu=class{#t;#e;constructor(e){var r=new Map,n=(o,s)=>{var a=Pt(s);return r.set(o,a),a};let i=new Proxy({...e.props||{},$$events:{}},{get(o,s){return q(r.get(s)??n(s,Reflect.get(o,s)))},has(o,s){return q(r.get(s)??n(s,Reflect.get(o,s))),Reflect.has(o,s)},set(o,s,a){return V(r.get(s)??n(s,a),a),Reflect.set(o,s,a)}});this.#e=(e.hydrate?Va:Ie)(e.component,{target:e.target,props:i,context:e.context,intro:e.intro??!1,recover:e.recover}),Jr(),this.#t=i.$$events;for(let o of Object.keys(this.#e))o==="$set"||o==="$destroy"||o==="$on"||Re(this,o,{get(){return this.#e[o]},set(s){this.#e[o]=s},enumerable:!0});this.#e.$set=o=>{Object.assign(i,o)},this.#e.$destroy=()=>{Ge(this.#e)}}$set(e){this.#e.$set(e)}$on(e,r){this.#t[e]=this.#t[e]||[];let n=(...i)=>r.call(this,...i);return this.#t[e].push(n),()=>{this.#t[e]=this.#t[e].filter(i=>i!==n)}}$destroy(){this.#e.$destroy()}};var id;typeof HTMLElement=="function"&&(id=class extends HTMLElement{$$ctor;$$s;$$c;$$cn=!1;$$d={};$$r=!1;$$p_d={};$$l={};$$l_u=new Map;$$me;constructor(t,e,r){super(),this.$$ctor=t,this.$$s=e,r&&this.attachShadow({mode:"open"})}addEventListener(t,e,r){if(this.$$l[t]=this.$$l[t]||[],this.$$l[t].push(e),this.$$c){let n=this.$$c.$on(t,e);this.$$l_u.set(e,n)}super.addEventListener(t,e,r)}removeEventListener(t,e,r){if(super.removeEventListener(t,e,r),this.$$c){let n=this.$$l_u.get(e);n&&(n(),this.$$l_u.delete(e))}}async connectedCallback(){if(this.$$cn=!0,!this.$$c){let t=function(n){return i=>{let o=document.createElement("slot");n!=="default"&&(o.name=n),H(i,o)}};if(await Promise.resolve(),!this.$$cn||this.$$c)return;let e={},r=od(this);for(let n of this.$$s)n in r&&(n==="default"&&!this.$$d.children?(this.$$d.children=t(n),e.default=!0):e[n]=t(n));for(let n of this.attributes){let i=this.$$g_p(n.name);i in this.$$d||(this.$$d[i]=ou(i,n.value,this.$$p_d,"toProp"))}for(let n in this.$$p_d)!(n in this.$$d)&&this[n]!==void 0&&(this.$$d[n]=this[n],delete this[n]);this.$$c=Xl({component:this.$$ctor,target:this.shadowRoot||this,props:{...this.$$d,$$slots:e,$$host:this}}),this.$$me=$e(()=>{this.$$r=!0;for(let n of va(this.$$c)){if(!this.$$p_d[n]?.reflect)continue;this.$$d[n]=this.$$c[n];let i=ou(n,this.$$d[n],this.$$p_d,"toAttribute");i==null?this.removeAttribute(this.$$p_d[n].attribute||n):this.setAttribute(this.$$p_d[n].attribute||n,i)}this.$$r=!1});for(let n in this.$$l)for(let i of this.$$l[n]){let o=this.$$c.$on(n,i);this.$$l_u.set(i,o)}this.$$l={}}}attributeChangedCallback(t,e,r){this.$$r||(t=this.$$g_p(t),this.$$d[t]=ou(t,r,this.$$p_d,"toProp"),this.$$c?.$set({[t]:this.$$d[t]}))}disconnectedCallback(){this.$$cn=!1,Promise.resolve().then(()=>{!this.$$cn&&this.$$c&&(this.$$c.$destroy(),ke(this.$$me),this.$$c=void 0)})}$$g_p(t){return va(this.$$p_d).find(e=>this.$$p_d[e].attribute===t||!this.$$p_d[e].attribute&&e.toLowerCase()===t)||t}});function ou(t,e,r,n){let i=r[t]?.type;if(e=i==="Boolean"&&typeof e!="boolean"?e!=null:e,!n||!r[t])return e;if(n==="toAttribute")switch(i){case"Object":case"Array":return e==null?null:JSON.stringify(e);case"Boolean":return e?"":null;case"Number":return e??null;default:return e}else switch(i){case"Object":case"Array":return e&&JSON.parse(e);case"Boolean":return e;case"Number":return e!=null?+e:e;default:return e}}function od(t){let e={};return t.childNodes.forEach(r=>{e[r.slot||"default"]=!0}),e}var su=require("obsidian");function zi(t,e){return(0,su.setIcon)(t,e),{update(r){(0,su.setIcon)(t,r)}}}function dd(t){let e=t-1;return e*e*e+1}function ec(t,{delay:e=0,duration:r=400,easing:n=dd,axis:i="y"}={}){let o=getComputedStyle(t),s=+o.opacity,a=i==="y"?"height":"width",u=parseFloat(o[a]),l=i==="y"?["top","bottom"]:["left","right"],f=l.map(k=>`${k[0].toUpperCase()}${k.slice(1)}`),h=parseFloat(o[`padding${f[0]}`]),d=parseFloat(o[`padding${f[1]}`]),y=parseFloat(o[`margin${f[0]}`]),g=parseFloat(o[`margin${f[1]}`]),w=parseFloat(o[`border${f[0]}Width`]),O=parseFloat(o[`border${f[1]}Width`]);return{delay:e,duration:r,easing:n,css:k=>`overflow: hidden;opacity: ${Math.min(k*20,1)*s};${a}: ${k*u}px;padding-${l[0]}: ${k*h}px;padding-${l[1]}: ${k*d}px;margin-${l[0]}: ${k*y}px;margin-${l[1]}: ${k*g}px;border-${l[0]}-width: ${k*w}px;border-${l[1]}-width: ${k*O}px;`}}var pd=(t,e)=>e.messageManager.removeMessage(e.messageWrapper.uuid),hd=(t,e)=>t.key===" "?e.messageManager.removeMessage(e.messageWrapper.uuid):void 0,md=Z('<div class="js-engine-message-delete-icon callout-icon" aria-label="remove" role="button" tabindex="0"></div>'),yd=Z("<p> </p>"),_d=Z('<pre class="language-none"><code> </code></pre>'),vd=(t,e)=>V(e,!q(e)),gd=(t,e)=>t.key===" "?V(e,!q(e)):void 0,xd=Z("<p> </p> <p> </p>",1),bd=Z('<div class="js-engine-message-detail-content"><p> </p> <p> </p> <!></div>'),wd=Z('<div><div class="js-engine-message-header callout-title"><div class="js-engine-message-icon callout-icon"></div> <span class="js-engine-message-title"> </span> <!></div> <div class="js-engine-message-content callout-content"><!> <!> <div class="js-engine-message-detail"><div class="js-engine-message-detail-row" role="button" tabindex="0"><span>Details</span> <div class="js-engine-message-icon"></div></div> <!></div></div></div>');function xr(t,e){Te(e,!0);let r=Ot(e,"showDeleteButton",3,!0),n=Ot(e,"showMessageSource",3,!0),i=ce(!1);var o=wd();ue(()=>eu(o,`js-engine-message callout ${tc(e.messageWrapper.message.type)??""}`));var s=j(o),a=j(s),u=S(S(a,!0)),l=j(u);D(u);var f=S(S(u,!0));xt(f,r,x=>{var b=md();b.__click=[pd,e],b.__keydown=[hd,e],Wn(b,(U,te)=>zi(U,te),()=>"x"),H(x,b)}),D(s);var h=S(S(s,!0)),d=j(h);xt(d,()=>e.messageWrapper.message.content,x=>{var b=yd(),U=j(b);D(b),ue(()=>pe(U,e.messageWrapper.message.content)),H(x,b)});var y=S(S(d,!0));xt(y,()=>e.messageWrapper.message.code,x=>{var b=_d(),U=j(b),te=j(U);D(U),D(b),ue(()=>pe(te,e.messageWrapper.message.code)),H(x,b)});var g=S(S(y,!0)),w=j(g);w.__click=[vd,i],w.__keydown=[gd,i];var O=j(w),k=S(S(O,!0));D(w);var R=S(S(w,!0));xt(R,()=>q(i),x=>{var b=bd(),U=j(b),te=j(U);D(U);var _=S(S(U,!0)),A=j(_);ue(()=>pe(A,`Time: ${e.messageWrapper.time.toISOString()??""}`)),D(_);var m=S(S(_,!0));xt(m,n,ee=>{var Y=xd(),Pe=vt(Y),ot=j(Pe);D(Pe);var Ze=S(S(Pe,!0)),Tt=j(Ze);D(Ze),ue(()=>{pe(ot,`Source Name: ${e.messageWrapper.source.name??""}`),pe(Tt,`Source ID: ${e.messageWrapper.source.id??""}`)}),H(ee,Y)}),D(b),ue(()=>pe(te,`Type: ${e.messageWrapper.message.type??""}`)),ru(3,b,()=>ec,()=>({duration:100})),H(x,b)}),D(g),D(h),D(o),ue(()=>{tt(o,"data-callout",e.messageWrapper.message.type),pe(l,e.messageWrapper.message.title),tt(w,"aria-expanded",q(i)?"true":"false")}),Wn(a,(x,b)=>zi(x,b),()=>rc(e.messageWrapper.message.type)),Wn(k,(x,b)=>zi(x,b),()=>q(i)?"chevron-down":"chevron-right"),H(t,o),Se()}Vr(["click","keydown"]);function nc(t){return[...t]}var Ed=Z('<button class="js-engine-button"><!></button>');function er(t,e){Te(e,!0);let r=Ot(e,"variant",11,()=>"default"),n=Ot(e,"disabled",3,!1),i=Ot(e,"tooltip",3,""),o=Ot(e,"onclick",3,()=>{});var s=Ed();s.__click=function(...u){o()?.apply(this,u)};var a=j(s);Qa(a,()=>e.children),D(s),ue(()=>{tt(s,"aria-label",i()),s.disabled=n(),Yr(s,"mod-cta",r()==="primary"),Yr(s,"mod-warning",r()==="destructive"),Yr(s,"mod-plain",r()==="plain"),Yr(s,"disabled",n())}),H(t,s),Se()}Vr(["click"]);function au(t){W===null&&ki("onMount"),W.l!==null?Ad(W).m.push(t):Li(()=>{let e=de(t);if(typeof e=="function")return e})}function ic(t){W===null&&ki("onDestroy"),au(()=>()=>de(t))}function Ad(t){var e=t.l;return e.u??={a:[],b:[],m:[]}}var $d=Z("Clear All Messages",1),Td=Z("<p>None</p>"),Sd=Z("<h2>Messages</h2> <!> <div></div>",1);function uu(t,e){Te(e,!0);let r=ce(Kt(e.messageManager.messages.get())),n;au(()=>{n=e.messageManager.messages.subscribe(u=>{V(r,Kt(u))})}),ic(()=>{n()});var i=Sd(),o=vt(i),s=S(S(o,!0));er(s,{get variant(){return"destructive"},$$events:{click:()=>e.messageManager.removeAllMessages()},children:(u,l)=>{Ht();var f=$d();H(u,f)},$$slots:{default:!0}});var a=S(S(s,!0));Xt(a,77,()=>q(r),([u,l],f)=>u,(u,l,f)=>{let h=()=>Ne(Ne(l))[0],d=()=>Ne(Ne(l))[1];xr(u,{get messageWrapper(){return d()},get messageManager(){return e.messageManager}})},u=>{var l=Td();H(u,l)}),D(a),H(t,i),Se()}var Hi=class extends oc.Modal{plugin;component;constructor(e,r){super(e),this.plugin=r}onOpen(){this.contentEl.empty(),this.component&&Ge(this.component),this.component=Ie(uu,{target:this.contentEl,props:{messageManager:this.plugin.messageManager}})}onClose(){this.contentEl.empty(),this.component&&Ge(this.component)}};function sc(t){return new lu(t)}var lu=class{value;subscriberCounter;subscribers;constructor(e){this.value=e,this.subscriberCounter=0,this.subscribers=new Map}set(e){this.value!==e&&(this.value=e,this.notify())}update(e){this.set(e(this.value))}get(){return this.value}subscribe(e,r){let n=this.subscriberCounter;return this.subscriberCounter+=1,this.subscribers.set(n,e),e(this.value),()=>{this.subscribers.delete(n)}}notify(){for(let e of this.subscribers.values())e(this.value)}};var Qr=class t{name;id;constructor(e,r){this.name=e,this.id=r}toString(){return`plugin:js-engine:${this.name}:${this.id}`}static create(e){return new t(e,self.crypto.randomUUID())}};var kd=["error","warning","success","tip","info"];function tc(t){return`js-engine-message-mod-${t}`}function rc(t){let e=new Map;return e.set("error","zap"),e.set("warning","alert-triangle"),e.set("success","check"),e.set("tip","flame"),e.set("info","info"),e.get(t)??"info"}function Id(t){return`js-engine-message-indicator-mod-${t}`}var Vi=class{type;title;content;code;constructor(e,r,n,i){this.type=e,this.title=r,this.content=n,this.code=i}},Zr=class{uuid;source;message;time;constructor(e,r){this.message=e,this.source=r,this.uuid=self.crypto.randomUUID(),this.time=(0,Yi.moment)()}},Gi=class{app;plugin;messages;statusBarItem;messageDisplay;constructor(e,r){this.app=e,this.plugin=r,this.messages=sc(new Map)}initStatusBarItem(){this.messageDisplay=new Hi(this.app,this.plugin),this.statusBarItem=this.plugin.addStatusBarItem(),this.statusBarItem.addClass("mod-clickable"),this.statusBarItem.addEventListener("click",()=>{this.messageDisplay?.open()}),this.updateStatusBarItem(),this.messages.subscribe(e=>{this.updateStatusBarItem()})}addMessage(e,r){let n=new Zr(e,r);return this.messages.get().set(n.uuid,n),this.messages.notify(),n}removeMessage(e){this.messages.get().delete(e),this.messages.notify()}removeAllMessages(){this.messages.get().clear(),this.messages.notify()}updateStatusBarItem(){if(!this.statusBarItem)return;this.statusBarItem.empty();let e=this.statusBarItem.createEl("div");(0,Yi.setIcon)(e,"message-square");let r=this.statusBarItem.createEl("span");r.addClass("js-engine-message-counter"),r.innerText=this.messages.get().size.toString();let n=new Set(Array.from(this.messages.get().values()).map(i=>i.message.type));for(let i of kd)if(n.has(i)){r.addClass(Id(i));break}n.size===0&&r.addClass("js-engine-message-indicator-mod-info")}getMessagesFromSource(e){let r=this.messages.get();return nc(r.values()).filter(n=>n.source.id===e.id)}};var ac=require("obsidian"),Nt=class{content;constructor(e){this.content=e}async render(e,r,n,i){await ac.MarkdownRenderer.render(e,this.content,r,n,i)}};var Xr=class{toMarkdown(){return new Nt(this.toString())}};var en=class extends Xr{getType(){return"LITERAL"}};var bt=class extends Xr{markdownElements;constructor(){super(),this.markdownElements=[]}getType(){return"NON_LITERAL"}addElement(e){if(this.allowElement(e))this.markdownElements.push(e);else throw new Error("Element not allowed in container.")}addText(e){let r=new ft(e,!1,!1,!1);return this.addElement(r),this}addBoldText(e){let r=new ft(e,!0,!1,!1);return this.addElement(r),this}addCursiveText(e){let r=new ft(e,!1,!0,!1);return this.addElement(r),this}addUnderlinedText(e){let r=new ft(e,!1,!1,!0);return this.addElement(r),this}addCode(e){let r=new Jn(e);return this.addElement(r),this}createParagraph(e){let r=new Gn(e);return this.addElement(r),r}createHeading(e,r){let n=new Vn(e,r);return this.addElement(n),n}createBlockQuote(){let e=new Kn;return this.addElement(e),e}createCallout(e,r,n=""){let i=new Qn(e,r,n);return this.addElement(i),i}createCodeBlock(e,r){let n=new Yn(e,r);return this.addElement(n),n}createTable(e,r){let n=new Hn(e,r);return this.addElement(n),n}createList(e){let r=new Zn(e);return this.addElement(r),r}},ft=class extends en{content;bold;cursive;underline;constructor(e,r,n,i){super(),this.content=e,this.bold=r,this.cursive=n,this.underline=i}toString(){let e="",r="";return this.underline&&(e+="<b>",r="</b>"+r),this.bold&&(e+="**",r="**"+r),this.cursive&&(e+="*",r="*"+r),e+this.content+r}},Jn=class extends en{content;constructor(e){super(),this.content=e}toString(){return`\`${this.content}\``}},Hn=class extends en{header;body;constructor(e,r){super(),this.header=e,this.body=r}toString(){let e=this.body.length;if(e===0)return"";let r=this.header.length;if(r===0)return"";for(let o of this.body)if(o.length!==r)throw new Error("Table rows are do not contain the same number of columns.");let n=[];for(let o=0;o<r;o++){let s=0;this.header[o].length>s&&(s=this.header[o].length);for(let a of this.body)a[o].length>s&&(s=a[o].length);n.push(s)}let i="";i+="|";for(let o=0;o<r;o++){let s=this.header[o];s+=" ".repeat(n[o]-s.length),i+=" "+s+" |"}i+=`
`,i+="|";for(let o=0;o<r;o++)i+=" "+"-".repeat(n[o])+" |";i+=`
`;for(let o=0;o<e;o++){i+="|";for(let s=0;s<r;s++){let a=this.body[o][s];a+=" ".repeat(n[s]-a.length),i+=" "+a+" |"}i+=`
`}return i}},Vn=class extends bt{level;constructor(e,r){super(),this.level=e,this.addText(r)}toString(){return`${"#".repeat(this.level)} ${this.markdownElements.map(e=>e.toString()).join("")}`}allowElement(e){return e.getType()==="LITERAL"}},Gn=class extends bt{constructor(e){super(),this.addText(e)}toString(){return this.markdownElements.map(e=>e.toString()).join("")}allowElement(e){return e.getType()==="LITERAL"}},Yn=class extends bt{language;constructor(e,r){super(),this.language=e,this.addText(r)}allowElement(e){return e.getType()==="LITERAL"}toString(){return`\`\`\`${this.language}
${this.markdownElements.map(e=>e.toString()).join("")}
\`\`\``}},Kn=class extends bt{allowElement(e){return!0}toString(){return"> "+this.markdownElements.map(e=>e.toString().replaceAll(`
`,`
> `)).join(`
> 
> `)}},Qn=class extends bt{title;type;args;constructor(e,r,n){super(),this.title=e,this.type=r,this.args=n}allowElement(e){return!0}toString(){return`> [!${this.type}|${this.args}] ${this.title}
> `+this.markdownElements.map(e=>e.toString().replaceAll(`
`,`
> `)).join(`
> 
> `)}},Zn=class t extends bt{ordered;constructor(e){super(),this.ordered=e}allowElement(e){return!0}getPrefix(e){return this.ordered?`${e+1}. `:"- "}toString(){return this.markdownElements.map((e,r)=>e instanceof t?`	${e.toString().replaceAll(`
`,`
	`)}`:`${this.getPrefix(r)}${e.toString().replaceAll(`
`,`
	`)}`).join(`
`)}};var br=class extends bt{constructor(){super()}toString(){return this.markdownElements.map(e=>e.toString()).join(`

`)}allowElement(e){return!0}};var Ki=class{apiInstance;constructor(e){this.apiInstance=e}createBuilder(){return new br}create(e){return new Nt(e)}createText(e){return new ft(e,!1,!1,!1)}createBoldText(e){return new ft(e,!0,!1,!1)}createCursiveText(e){return new ft(e,!1,!0,!1)}createUnderlinedText(e){return new ft(e,!1,!1,!0)}createCode(e){return new Jn(e)}createParagraph(e){return new Gn(e)}createHeading(e,r){return new Vn(e,r)}createBlockQuote(){return new Kn}createCallout(e,r,n=""){return new Qn(e,r,n)}createCodeBlock(e,r){return new Yn(e,r)}createTable(e,r){return new Hn(e,r)}createList(e){return new Zn(e)}};var a0=require("obsidian");var Qi=class{apiInstance;messageManager;constructor(e){this.apiInstance=e,this.messageManager=e.plugin.messageManager}createMessage(e,r,n,i=""){return this.messageManager.addMessage(new Vi(e,r,n,i),this.apiInstance.instanceId)}getMessageById(e){return this.messageManager.messages.get().get(e)}getMessagesForInstance(){return this.messageManager.getMessagesFromSource(this.apiInstance.instanceId)}};var HE=require("obsidian");var tn=class{plugin;container;sourcePath;component;constructor(e,r,n,i){this.plugin=e,this.container=r,this.sourcePath=n,this.component=i}async render(e){if(e!=null){if(this.container.empty(),typeof e=="string"){this.container.innerText=e;return}if(e instanceof br&&(e=e.toMarkdown()),e instanceof Nt){await e.render(this.plugin.app,this.container,this.sourcePath,this.component);return}if(e instanceof HTMLElement){this.container.append(e);return}if(e instanceof Zr){let r=Ie(xr,{target:this.container,props:{messageWrapper:e,messageManager:this.plugin.messageManager,showDeleteButton:!1,showMessageSource:!1}});this.component.register(()=>{Ge(r)});return}if(e instanceof rn){e.setRenderer(this),e.initialRender();return}this.container.innerText=JSON.stringify(e)}}convertToSimpleObject(e){return e instanceof br?e.toMarkdown().content:e instanceof Nt?e.content:e instanceof HTMLElement?e.outerHTML:e instanceof Zr?e.message:e}};var rn=class{apiInstance;_render;initialArgs;renderer;constructor(e,r,n){this.apiInstance=e,this._render=r,this.initialArgs=n}async refresh(...e){let r;try{r=await this._render(...e)}catch(n){console.warn("failed to execute JS",n),n instanceof Error&&(r=this.apiInstance.message.createMessage("error","Failed to execute JS",`Failed to execute JS during reactive execution in execution "${this.apiInstance.instanceId.id}"`,n.stack))}this.renderer?.render(r)}initialRender(){this.refresh(...this.initialArgs)}setRenderer(e){this.renderer=e}};var xc=Or(no()),bc=Or(mu()),wc=Or(Xn()),Zs=Or(_u()),Ec=Or(pu());var Tu={};Bu(Tu,{AsyncStream:()=>Ks,InvalidArgumentError:()=>re,LengthError:()=>qe,Stream:()=>tr,infinite:()=>Bt,math:()=>Ud,multi:()=>Wd,reduce:()=>lo,set:()=>zd,single:()=>sn,summary:()=>Jd,transform:()=>Hd});var re=class extends Error{},qe=class extends Error{};var wr=function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{l(n.next(f))}catch(h){s(h)}}function u(f){try{l(n.throw(f))}catch(h){s(h)}}function l(f){f.done?o(f.value):i(f.value).then(a,u)}l((n=n.apply(t,e||[])).next())})},wt=function(t){return this instanceof wt?(this.v=t,this):new wt(t)},lc=function(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(d){n[d]&&(i[d]=function(y){return new Promise(function(g,w){o.push([d,y,g,w])>1||a(d,y)})})}function a(d,y){try{u(n[d](y))}catch(g){h(o[0][3],g)}}function u(d){d.value instanceof wt?Promise.resolve(d.value.v).then(l,f):h(o[0][2],d)}function l(d){a("next",d)}function f(d){a("throw",d)}function h(d,y){d(y),o.shift(),o.length&&a(o[0][0],o[0][1])}},he;(function(t){t[t.SHORTEST=0]="SHORTEST",t[t.LONGEST=1]="LONGEST",t[t.STRICT_EQUAL=2]="STRICT_EQUAL"})(he||(he={}));function*rr(t,e,...r){if(r.length===0)return;let n=[];for(let i of r)n.push(ei(i));e:for(;;){let i=sn.map(n,u=>u.next()),o=[],s=!0,a=!1;for(let u of i){let l;u.done?(s=!1,l=e):(a=!0,l=u.value),o.push(l)}if(!s&&a)switch(t){case he.SHORTEST:break e;case he.STRICT_EQUAL:throw new qe("Iterators must have equal lengths")}if(!a)break;yield o}}function nr(t,e,...r){return lc(this,arguments,function*(){if(r.length===0)return yield wt(void 0);let i=[];for(let o of r)i.push(ti(o));e:for(;;){let o=[];for(let l of i){let f=yield wt(l.next());o.push(f)}let s=[],a=!0,u=!1;for(let l of o){let f;l.done?(a=!1,f=e):(u=!0,f=l.value),s.push(f)}if(!a&&u)switch(t){case he.SHORTEST:break e;case he.STRICT_EQUAL:throw new qe("Iterators must have equal lengths")}if(!u)break;yield yield wt(s)}})}var Er=class{constructor(){this.addedMap=new Map,this.deletedMap=new Map}addUsage(e,r){this.addedMap.has(e)||this.addedMap.set(e,new Map);let n=this.addedMap.get(e);n.has(r)||n.set(r,0),n.set(r,n.get(r)+1)}deleteUsage(e){this.deletedMap.has(e)?this.deletedMap.set(e,this.deletedMap.get(e)+1):this.deletedMap.set(e,1)}getOwnersCount(e){var r,n;let i=(r=this.deletedMap.get(e))!==null&&r!==void 0?r:0;return tr.of((n=this.addedMap.get(e))!==null&&n!==void 0?n:new Map).map(o=>o[1]).filter(o=>o>i).toValue(o=>o+1,0)}getUsagesCount(e,r=1){var n,i;let o=(n=this.deletedMap.get(e))!==null&&n!==void 0?n:0,s=tr.of((i=this.addedMap.get(e))!==null&&i!==void 0?i:new Map).map(a=>a[1]).map(a=>a-o).filter(a=>a>0).toArray();for(;s.length>r;){let a=lo.toMin(s);s=tr.of(s).map(u=>u-a).filter(u=>u>0).toArray()}return lo.toSum(s)}},me=class{},ao=class{constructor(e,r){this.related=[],this.positions=[],this.cache=new Map,this.lastCacheIndex=0,this.isValid=!0,this.iterator=e;for(let n=0;n<r;++n)this.related.push(new bu(this,n)),this.positions.push(0);this.cacheNextValue()}current(e){let r=this.getPosition(e);return this.cache.get(r)}next(e){let[r,n,i]=[this.getPosition(e),Math.min(...this.positions),Math.max(...this.positions)];r===i&&this.cacheNextValue(),this.positions[e.getId()]++,n<Math.min(...this.positions)&&this.cache.delete(n)}valid(e){return this.getPosition(e)<this.lastCacheIndex||this.isValid}getRelatedIterables(){return this.related}cacheNextValue(){let e=this.iterator.next();e.done||this.cache.set(this.lastCacheIndex++,e.value),this.isValid=!e.done}getPosition(e){return this.positions[e.getId()]}},bu=class{constructor(e,r){this.parent=e,this.id=r}getId(){return this.id}valid(){return this.parent.valid(this)}next(){let e={value:this.current(),done:!this.valid()};return e.done||this.parent.next(this),e}current(){return this.parent.valid(this)?this.parent.current(this):void 0}*[Symbol.iterator](){for(;this.parent.valid(this);)yield this.parent.current(this),this.parent.next(this)}},uo=class{constructor(e,r){this.related=[],this.positions=[],this.cache=new Map,this.lastCacheIndex=0,this.isValid=!0,this.isFirstIteration=!0,this.iterator=e;for(let n=0;n<r;++n)this.related.push(new wu(this,n)),this.positions.push(0)}current(e){return wr(this,void 0,void 0,function*(){this.isFirstIteration&&(yield this.cacheNextValue());let r=this.getPosition(e);return this.cache.get(r)})}next(e){return wr(this,void 0,void 0,function*(){let[r,n,i]=[this.getPosition(e),Math.min(...this.positions),Math.max(...this.positions)];r===i&&(yield this.cacheNextValue()),this.positions[e.getId()]++,n<Math.min(...this.positions)&&this.cache.delete(n)})}valid(e){return wr(this,void 0,void 0,function*(){return this.isFirstIteration&&(yield this.cacheNextValue()),this.getPosition(e)<this.lastCacheIndex||this.isValid})}getRelatedIterables(){return this.related}cacheNextValue(){return wr(this,void 0,void 0,function*(){let e=yield this.iterator.next();e.done||this.cache.set(this.lastCacheIndex++,e.value),this.isFirstIteration=!1,this.isValid=!e.done})}getPosition(e){return this.positions[e.getId()]}},wu=class{constructor(e,r){this.parent=e,this.id=r}getId(){return this.id}valid(){return wr(this,void 0,void 0,function*(){return yield this.parent.valid(this)})}next(){return wr(this,void 0,void 0,function*(){let e={value:yield this.current(),done:!(yield this.valid())};return e.done||(yield this.parent.next(this)),e})}current(){return wr(this,void 0,void 0,function*(){return(yield this.parent.valid(this))?yield this.parent.current(this):void 0})}[Symbol.asyncIterator](){return lc(this,arguments,function*(){for(;yield wt(this.parent.valid(this));)yield yield wt(yield wt(this.parent.current(this))),yield wt(this.parent.next(this))})}};var ri=function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof __values=="function"?__values(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(o){r[o]=t[o]&&function(s){return new Promise(function(a,u){s=t[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(l){o({value:l,done:a})},s)}},ge=function(t){return this instanceof ge?(this.v=t,this):new ge(t)},ni=function(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(d){n[d]&&(i[d]=function(y){return new Promise(function(g,w){o.push([d,y,g,w])>1||a(d,y)})})}function a(d,y){try{u(n[d](y))}catch(g){h(o[0][3],g)}}function u(d){d.value instanceof ge?Promise.resolve(d.value.v).then(l,f):h(o[0][2],d)}function l(d){a("next",d)}function f(d){a("throw",d)}function h(d,y){d(y),o.shift(),o.length&&a(o[0][0],o[0][1])}};function*an(...t){for(let e of rr(he.SHORTEST,void 0,...t))yield e}function un(...t){return ni(this,arguments,function*(){var r,n,i,o;try{for(var s=!0,a=ri(nr(he.SHORTEST,void 0,...t)),u;u=yield ge(a.next()),r=u.done,!r;){o=u.value,s=!1;try{yield yield ge(o)}finally{s=!0}}}catch(l){n={error:l}}finally{try{!s&&!r&&(i=a.return)&&(yield ge(i.call(a)))}finally{if(n)throw n.error}}})}function*co(t,...e){for(let r of rr(he.LONGEST,t,...e))yield r}function fo(t,...e){return ni(this,arguments,function*(){var n,i,o,s;try{for(var a=!0,u=ri(nr(he.LONGEST,t,...e)),l;l=yield ge(u.next()),n=l.done,!n;){s=l.value,a=!1;try{yield yield ge(s)}finally{a=!0}}}catch(f){i={error:f}}finally{try{!a&&!n&&(o=u.return)&&(yield ge(o.call(u)))}finally{if(i)throw i.error}}})}function*po(...t){for(let e of rr(he.LONGEST,void 0,...t))yield e}function ho(...t){return ni(this,arguments,function*(){var r,n,i,o;try{for(var s=!0,a=ri(nr(he.LONGEST,void 0,...t)),u;u=yield ge(a.next()),r=u.done,!r;){o=u.value,s=!1;try{yield yield ge(o)}finally{s=!0}}}catch(l){n={error:l}}finally{try{!s&&!r&&(i=a.return)&&(yield ge(i.call(a)))}finally{if(n)throw n.error}}})}function*ln(...t){for(let e of rr(he.STRICT_EQUAL,void 0,...t))yield e}function cn(...t){return ni(this,arguments,function*(){var r,n,i,o;try{for(var s=!0,a=ri(nr(he.STRICT_EQUAL,void 0,...t)),u;u=yield ge(a.next()),r=u.done,!r;){o=u.value,s=!1;try{yield yield ge(o)}finally{s=!0}}}catch(l){n={error:l}}finally{try{!s&&!r&&(i=a.return)&&(yield ge(i.call(a)))}finally{if(n)throw n.error}}})}function*mo(...t){for(let e of t)for(let r of C(e))yield r}function yo(...t){return ni(this,arguments,function*(){var r,n,i,o;for(let l of t)try{for(var s=!0,a=(n=void 0,ri(M(l))),u;u=yield ge(a.next()),r=u.done,!r;){o=u.value,s=!1;try{yield yield ge(o)}finally{s=!0}}}catch(f){n={error:f}}finally{try{!s&&!r&&(i=a.return)&&(yield ge(i.call(a)))}finally{if(n)throw n.error}}})}var Me=function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{l(n.next(f))}catch(h){s(h)}}function u(f){try{l(n.throw(f))}catch(h){s(h)}}function l(f){f.done?o(f.value):i(f.value).then(a,u)}l((n=n.apply(t,e||[])).next())})},_o=function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof __values=="function"?__values(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(o){r[o]=t[o]&&function(s){return new Promise(function(a,u){s=t[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(l){o({value:l,done:a})},s)}};function Ke(t,e,r){let n=r;for(let i of C(t))n=e(n,i);return n}function Qe(t,e,r){var n,i,o,s;return Me(this,void 0,void 0,function*(){let a=r;try{for(var u=!0,l=_o(M(t)),f;f=yield l.next(),n=f.done,!n;){s=f.value,u=!1;try{a=yield e(a,s)}finally{u=!0}}}catch(h){i={error:h}}finally{try{!u&&!n&&(o=l.return)&&(yield o.call(l))}finally{if(i)throw i.error}}return a})}function vo(t){let[e,r]=Ke(t,(n,i)=>{let[o,s]=n;return[o+1,s+Number(i)]},[0,0]);return e?r/e:void 0}function go(t){return Me(this,void 0,void 0,function*(){let[e,r]=yield Qe(t,(n,i)=>{let[o,s]=n;return[o+1,s+Number(i)]},[0,0]);return e?r/e:void 0})}function xo(t,e){return e!==void 0?Ke(t,(r,n)=>e(n)>e(r??n)?n:r??n):Ke(t,(r,n)=>{let i=r??n,o=n;return i>=o?i:o})}function bo(t,e){return Me(this,void 0,void 0,function*(){return e!==void 0?yield Qe(t,(r,n)=>Me(this,void 0,void 0,function*(){return(yield e(n))>(yield e(r??n))?n:r??n})):yield Qe(t,(r,n)=>{let i=r??n,o=n;return i>=o?i:o})})}function wo(t,e){return e!==void 0?Ke(t,(r,n)=>e(n)<e(r??n)?n:r??n):Ke(t,(r,n)=>{let i=r??n,o=n;return i<=o?i:o})}function Eo(t,e){return Me(this,void 0,void 0,function*(){return e!==void 0?yield Qe(t,(r,n)=>Me(this,void 0,void 0,function*(){return(yield e(n))<(yield e(r??n))?n:r??n})):yield Qe(t,(r,n)=>{let i=r??n,o=n;return i<=o?i:o})})}function ii(t,e){let r=e!==void 0?e:n=>n;return Ke(t,(n,i)=>{var o,s,a,u;return n=n,[r(i)<=r((o=n[0])!==null&&o!==void 0?o:i)?i:(s=n[0])!==null&&s!==void 0?s:i,r(i)>=r((a=n[1])!==null&&a!==void 0?a:i)?i:(u=n[1])!==null&&u!==void 0?u:i]},[void 0,void 0])}function oi(t,e){return Me(this,void 0,void 0,function*(){let r=e!==void 0?e:n=>n;return yield Qe(t,(n,i)=>Me(this,void 0,void 0,function*(){var o,s,a,u;return n=n,[(yield r(i))<=(yield r((o=n[0])!==null&&o!==void 0?o:i))?i:(s=n[0])!==null&&s!==void 0?s:i,(yield r(i))>=(yield r((a=n[1])!==null&&a!==void 0?a:i))?i:(u=n[1])!==null&&u!==void 0?u:i]}),[void 0,void 0])})}function Ao(t){let[e,r]=ii(ir(t,n=>Number(n)));return(r??0)-(e??0)}function $o(t){return Me(this,void 0,void 0,function*(){let[e,r]=yield oi(At(t,n=>Number(n)));return(r??0)-(e??0)})}function To(t){return Ke(t,(e,r)=>e+Number(r),0)}function So(t){return Me(this,void 0,void 0,function*(){return yield Qe(t,(e,r)=>e+Number(r),0)})}function ko(t){return Ke(t,(e,r)=>(e??1)*r)}function Io(t){return Me(this,void 0,void 0,function*(){return yield Qe(t,(e,r)=>(e??1)*r)})}function Ar(t){switch(!0){case t instanceof Array:return t.length;case Et(t):return t.length;case t instanceof Set:return t.size;case t instanceof Map:return t.size}return Ke(t,e=>e+1,0)}function fn(t){return Me(this,void 0,void 0,function*(){switch(!0){case t instanceof Array:case Et(t):case t instanceof Set:case t instanceof Map:return Ar(t)}return yield Qe(t,e=>e+1,0)})}function Mo(t){for(let e of C(t))return e;throw new qe("Collection is empty")}function Po(t){var e,r,n,i;return Me(this,void 0,void 0,function*(){try{for(var o=!0,s=_o(M(t)),a;a=yield s.next(),e=a.done,!e;){i=a.value,o=!1;try{return i}finally{o=!0}}}catch(u){r={error:u}}finally{try{!o&&!e&&(n=s.return)&&(yield n.call(s))}finally{if(r)throw r.error}}throw new qe("Collection is empty")})}function Co(t){let e=!0,r;for(let n of C(t))r=n,e=!1;if(e)throw new qe("Collection is empty");return r}function Ro(t){var e,r,n,i;return Me(this,void 0,void 0,function*(){let o=!0,s;try{for(var a=!0,u=_o(M(t)),l;l=yield u.next(),e=l.done,!e;){i=l.value,a=!1;try{s=i,o=!1}finally{a=!0}}}catch(f){r={error:f}}finally{try{!a&&!e&&(n=u.return)&&(yield n.call(u))}finally{if(r)throw r.error}}if(o)throw new qe("Collection is empty");return s})}function Oo(t){let e=me,r=me;for(let n of C(t))e===me&&(e=n),r=n;if(e===me)throw new qe("Collection is empty");return[e,r]}function No(t){var e,r,n,i;return Me(this,void 0,void 0,function*(){let o=me,s=me;try{for(var a=!0,u=_o(M(t)),l;l=yield u.next(),e=l.done,!e;){i=l.value,a=!1;try{let f=i;o===me&&(o=f),s=f}finally{a=!0}}}catch(f){r={error:f}}finally{try{!a&&!e&&(n=u.return)&&(yield n.call(u))}finally{if(r)throw r.error}}if(o===me)throw new qe("Collection is empty");return[o,s]})}var dt=function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{l(n.next(f))}catch(h){s(h)}}function u(f){try{l(n.throw(f))}catch(h){s(h)}}function l(f){f.done?o(f.value):i(f.value).then(a,u)}l((n=n.apply(t,e||[])).next())})},Lt=function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof __values=="function"?__values(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(o){r[o]=t[o]&&function(s){return new Promise(function(a,u){s=t[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(l){o({value:l,done:a})},s)}};function Lo(t,e){for(let r of C(t))if(!e(r))return!1;return!0}function Do(t,e){var r,n,i,o;return dt(this,void 0,void 0,function*(){try{for(var s=!0,a=Lt(M(t)),u;u=yield a.next(),r=u.done,!r;){o=u.value,s=!1;try{if(!(yield e(o)))return!1}finally{s=!0}}}catch(l){n={error:l}}finally{try{!s&&!r&&(i=a.return)&&(yield i.call(a))}finally{if(n)throw n.error}}return!0})}function Fo(t){let e=new Set;for(let r of C(t)){if(e.has(r))return!1;e.add(r)}return!0}function qo(t){var e,r,n,i;return dt(this,void 0,void 0,function*(){let o=new Set;try{for(var s=!0,a=Lt(M(t)),u;u=yield a.next(),e=u.done,!e;){i=u.value,s=!1;try{let l=i;if(o.has(l))return!1;o.add(l)}finally{s=!0}}}catch(l){r={error:l}}finally{try{!s&&!e&&(n=a.return)&&(yield n.call(a))}finally{if(r)throw r.error}}return!0})}function jo(t,e){for(let r of C(t))if(e(r))return!0;return!1}function Bo(t,e){var r,n,i,o;return dt(this,void 0,void 0,function*(){try{for(var s=!0,a=Lt(M(t)),u;u=yield a.next(),r=u.done,!r;){o=u.value,s=!1;try{if(yield e(o))return!0}finally{s=!0}}}catch(l){n={error:l}}finally{try{!s&&!r&&(i=a.return)&&(yield i.call(a))}finally{if(n)throw n.error}}return!1})}function Uo(t,e,r){if(e<0)return!1;r===void 0&&(r=i=>!!i);let n=0;for(let i of C(t))if(r(i)&&(n++,n>e))return!1;return n===e}function Wo(t,e,r){var n,i,o,s;return dt(this,void 0,void 0,function*(){if(e<0)return!1;r===void 0&&(r=h=>!!h);let a=0;try{for(var u=!0,l=Lt(M(t)),f;f=yield l.next(),n=f.done,!n;){s=f.value,u=!1;try{if((yield r(s))&&(a++,a>e))return!1}finally{u=!0}}}catch(h){i={error:h}}finally{try{!u&&!n&&(o=l.return)&&(yield o.call(l))}finally{if(i)throw i.error}}return a===e})}function cc(t){for(let e of C(t))return!1;return!0}function fc(t){var e,r,n,i;return dt(this,void 0,void 0,function*(){try{for(var o=!0,s=Lt(M(t)),a;a=yield s.next(),e=a.done,!e;){i=a.value,o=!1;try{let u=i;return!1}finally{o=!0}}}catch(u){r={error:u}}finally{try{!o&&!e&&(n=s.return)&&(yield n.call(s))}finally{if(r)throw r.error}}return!0})}function je(t){return t==null?!1:typeof t[Symbol.iterator]=="function"}function Dt(t){return t==null?!1:typeof t[Symbol.asyncIterator]=="function"}function it(t){return t==null?!1:t.next!==void 0&&typeof t.next=="function"}function zo(t){for(let[e,r]of Ft(C(t)))if(e<r)return!1;return!0}function Jo(t){var e,r,n,i;return dt(this,void 0,void 0,function*(){try{for(var o=!0,s=Lt($r(M(t))),a;a=yield s.next(),e=a.done,!e;){i=a.value,o=!1;try{let[u,l]=i;if(u<l)return!1}finally{o=!0}}}catch(u){r={error:u}}finally{try{!o&&!e&&(n=s.return)&&(yield n.call(s))}finally{if(r)throw r.error}}return!0})}function Ho(t){for(let[e,r]of Ft(C(t)))if(e>r)return!1;return!0}function Vo(t){var e,r,n,i;return dt(this,void 0,void 0,function*(){try{for(var o=!0,s=Lt($r(M(t))),a;a=yield s.next(),e=a.done,!e;){i=a.value,o=!1;try{let[u,l]=i;if(u>l)return!1}finally{o=!0}}}catch(u){r={error:u}}finally{try{!o&&!e&&(n=s.return)&&(yield n.call(s))}finally{if(r)throw r.error}}return!0})}function Et(t){return typeof t=="string"||t instanceof String}function Go(t,e){for(let r of C(t))if(e(r))return!1;return!0}function Yo(t,e){var r,n,i,o;return dt(this,void 0,void 0,function*(){try{for(var s=!0,a=Lt(M(t)),u;u=yield a.next(),r=u.done,!r;){o=u.value,s=!1;try{if(yield e(o))return!1}finally{s=!0}}}catch(l){n={error:l}}finally{try{!s&&!r&&(i=a.return)&&(yield i.call(a))}finally{if(n)throw n.error}}return!0})}function Ko(...t){try{for(let e of ln(...t))for(let[r,n]of Ft(e))if(r!==n)return!1}catch{return!1}return!0}function Qo(...t){var e,r,n,i;return dt(this,void 0,void 0,function*(){try{try{for(var o=!0,s=Lt(cn(...t)),a;a=yield s.next(),e=a.done,!e;){i=a.value,o=!1;try{let u=i;for(let[l,f]of Ft(u))if(l!==f)return!1}finally{o=!0}}}catch(u){r={error:u}}finally{try{!o&&!e&&(n=s.return)&&(yield n.call(s))}finally{if(r)throw r.error}}}catch{return!1}return!0})}function Zo(...t){if(t.length<=1)return!0;let e=t.map(r=>Ar(r));return new Set(e).size===1}function Xo(...t){return dt(this,void 0,void 0,function*(){if(t.length<=1)return!0;let e=yield At(t,r=>dt(this,void 0,void 0,function*(){return yield fn(r)}));return new Set(yield pt(e)).size===1})}var Au=function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{l(n.next(f))}catch(h){s(h)}}function u(f){try{l(n.throw(f))}catch(h){s(h)}}function l(f){f.done?o(f.value):i(f.value).then(a,u)}l((n=n.apply(t,e||[])).next())})},$t=function(t){return this instanceof $t?(this.v=t,this):new $t(t)},Eu=function(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(d){n[d]&&(i[d]=function(y){return new Promise(function(g,w){o.push([d,y,g,w])>1||a(d,y)})})}function a(d,y){try{u(n[d](y))}catch(g){h(o[0][3],g)}}function u(d){d.value instanceof $t?Promise.resolve(d.value.v).then(l,f):h(o[0][2],d)}function l(d){a("next",d)}function f(d){a("throw",d)}function h(d,y){d(y),o.shift(),o.length&&a(o[0][0],o[0][1])}},es=function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof __values=="function"?__values(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(o){r[o]=t[o]&&function(s){return new Promise(function(a,u){s=t[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(l){o({value:l,done:a})},s)}};function C(t){if(je(t))return t;if(it(t))return{[Symbol.iterator](){return t}};if(typeof t=="object"&&t!==null)return function*(){for(let e in t)Object.prototype.hasOwnProperty.call(t,e)&&(yield[e,t[e]])}();throw new re("Given collection is not iterable or iterator.")}function M(t){if(Dt(t))return t;if(it(t))return{[Symbol.asyncIterator](){return Eu(this,arguments,function*(){for(;;){let r=yield $t(t.next());if(r.done)return yield $t(void 0);yield yield $t(r.value)}})}};if(typeof t=="object"&&t!==null&&(t=C(t)),je(t))return{[Symbol.asyncIterator](){return Eu(this,arguments,function*(){for(let r of t)yield yield $t(r)})}};throw new re("Given collection is not async iterable or iterator.")}function ei(t){if(it(t))return t;if(je(t))return function*(){for(let e of t)yield e}();throw new re("Given collection is not iterable or iterator.")}function ti(t){if((it(t)||je(t))&&(t=M(t)),Dt(t))return function(){return Eu(this,arguments,function*(){var e,r,n,i;try{for(var o=!0,s=es(t),a;a=yield $t(s.next()),e=a.done,!e;){i=a.value,o=!1;try{yield yield $t(i)}finally{o=!0}}}catch(u){r={error:u}}finally{try{!o&&!e&&(n=s.return)&&(yield $t(n.call(s)))}finally{if(r)throw r.error}}})}();throw new re("Given collection is not iterable or iterator.")}function qt(t){let e=[];for(let r of C(t))e.push(r);return e}function pt(t){var e,r,n,i;return Au(this,void 0,void 0,function*(){let o=[];try{for(var s=!0,a=es(M(t)),u;u=yield a.next(),e=u.done,!e;){i=u.value,s=!1;try{let l=i;o.push(l)}finally{s=!0}}}catch(l){r={error:l}}finally{try{!s&&!e&&(n=a.return)&&(yield n.call(a))}finally{if(r)throw r.error}}return o})}function ts(t){let e=new Map;for(let[r,n]of C(t))e.set(r,n);return e}function rs(t){var e,r,n,i;return Au(this,void 0,void 0,function*(){let o=new Map;try{for(var s=!0,a=es(M(t)),u;u=yield a.next(),e=u.done,!e;){i=u.value,s=!1;try{let[l,f]=i;o.set(l,f)}finally{s=!0}}}catch(l){r={error:l}}finally{try{!s&&!e&&(n=a.return)&&(yield n.call(a))}finally{if(r)throw r.error}}return o})}function ns(t){let e=new Set;for(let r of C(t))e.add(r);return e}function is(t){var e,r,n,i;return Au(this,void 0,void 0,function*(){let o=new Set;try{for(var s=!0,a=es(M(t)),u;u=yield a.next(),e=u.done,!e;){i=u.value,s=!1;try{let l=i;o.add(l)}finally{s=!0}}}catch(l){r={error:l}}finally{try{!s&&!e&&(n=a.return)&&(yield n.call(a))}finally{if(r)throw r.error}}return o})}function dn(t,e){return new ao(ei(t),e).getRelatedIterables()}function pn(t,e){return new uo(ti(t),e).getRelatedIterables()}var Fd=function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{l(n.next(f))}catch(h){s(h)}}function u(f){try{l(n.throw(f))}catch(h){s(h)}}function l(f){f.done?o(f.value):i(f.value).then(a,u)}l((n=n.apply(t,e||[])).next())})},ae=function(t){return this instanceof ae?(this.v=t,this):new ae(t)},hn=function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof __values=="function"?__values(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(o){r[o]=t[o]&&function(s){return new Promise(function(a,u){s=t[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(l){o({value:l,done:a})},s)}},mn=function(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(d){n[d]&&(i[d]=function(y){return new Promise(function(g,w){o.push([d,y,g,w])>1||a(d,y)})})}function a(d,y){try{u(n[d](y))}catch(g){h(o[0][3],g)}}function u(d){d.value instanceof ae?Promise.resolve(d.value.v).then(l,f):h(o[0][2],d)}function l(d){a("next",d)}function f(d){a("throw",d)}function h(d,y){d(y),o.shift(),o.length&&a(o[0][0],o[0][1])}},dc=function(t){var e,r;return e={},n("next"),n("throw",function(i){throw i}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(i,o){e[i]=t[i]?function(s){return(r=!r)?{value:ae(t[i](s)),done:i==="return"}:o?o(s):s}:o}};function*Tr(t,e){let r=new Set;if(t instanceof Map){e===void 0&&(e=n=>n[1]);for(let n of t){let i=e(n);r.has(i)||(yield n,r.add(i))}}else{e===void 0&&(e=n=>n);for(let n of C(t)){let i=e(n);r.has(i)||(yield n,r.add(i))}}}function yn(t,e){return mn(this,arguments,function*(){var n,i,o,s;let a=new Set;if(t instanceof Map)for(let h of Tr(t,e))yield yield ae(yield ae(h));else{e===void 0&&(e=h=>h);try{for(var u=!0,l=hn(M(t)),f;f=yield ae(l.next()),n=f.done,!n;){s=f.value,u=!1;try{let h=s,d=e(h);a.has(d)||(yield yield ae(h),a.add(d))}finally{u=!0}}}catch(h){i={error:h}}finally{try{!u&&!n&&(o=l.return)&&(yield ae(o.call(l)))}finally{if(i)throw i.error}}}})}function*os(...t){yield*_n(t.length,...t)}function ss(...t){return mn(this,arguments,function*(){yield ae(yield*dc(hn(vn(t.length,...t))))})}function*_n(t,...e){let r=new Er,n=rr(he.LONGEST,me,...e);for(let i of n)for(let[o,s]of jt(i))s!==me&&(r.addUsage(s,`${o}`),r.getOwnersCount(s)===t&&(yield s,r.deleteUsage(s)))}function vn(t,...e){return mn(this,arguments,function*(){var n,i,o,s;let a=new Er,u=nr(he.LONGEST,me,...e);try{for(var l=!0,f=hn(u),h;h=yield ae(f.next()),n=h.done,!n;){s=h.value,l=!1;try{let d=s;for(let[y,g]of jt(d))g!==me&&(a.addUsage(g,`${y}`),a.getOwnersCount(g)===t&&(yield yield ae(g),a.deleteUsage(g)))}finally{l=!0}}}catch(d){i={error:d}}finally{try{!l&&!n&&(o=f.return)&&(yield ae(o.call(f)))}finally{if(i)throw i.error}}})}function*as(...t){let e=new Er,r=new Set,n=rr(he.LONGEST,me,...t);for(let i of n)for(let[o,s]of jt(i))s!==me&&(e.addUsage(s,`${o}`),r.add(s),e.getOwnersCount(s)===t.length&&e.deleteUsage(s));for(let i of r)for(let o of sn.repeat(i,e.getUsagesCount(i)))yield o}function us(...t){return mn(this,arguments,function*(){var r,n,i,o;let s=new Er,a=new Set,u=nr(he.LONGEST,me,...t);try{for(var l=!0,f=hn(u),h;h=yield ae(f.next()),r=h.done,!r;){o=h.value,l=!1;try{let d=o;for(let[y,g]of jt(d))g!==me&&(s.addUsage(g,`${y}`),a.add(g),s.getOwnersCount(g)===t.length&&s.deleteUsage(g))}finally{l=!0}}}catch(d){n={error:d}}finally{try{!l&&!r&&(i=f.return)&&(yield ae(i.call(f)))}finally{if(n)throw n.error}}for(let d of a)for(let y of sn.repeat(d,s.getUsagesCount(d)))yield yield ae(y)})}function*ls(...t){yield*_n(1,...t)}function cs(...t){return mn(this,arguments,function*(){yield ae(yield*dc(hn(vn(1,...t))))})}function*fs(...t){if(t.length===0)return;if(t.length===1){for(let n of C(t[0]))yield[n];return}let r=qt(ir(t,n=>qt(n))).reduce((n,i)=>n.flatMap(o=>i.map(s=>[...o,s])),[[]]);for(let n of r)yield n}function ds(...t){return mn(this,arguments,function*(){var r,n,i,o;if(t.length===0)return yield ae(void 0);if(t.length===1){try{for(var s=!0,a=hn(M(t[0])),u;u=yield ae(a.next()),r=u.done,!r;){o=u.value,s=!1;try{yield yield ae([o])}finally{s=!0}}}catch(h){n={error:h}}finally{try{!s&&!r&&(i=a.return)&&(yield ae(i.call(a)))}finally{if(n)throw n.error}}return yield ae(void 0)}let f=(yield ae(pt(At(t,h=>Fd(this,void 0,void 0,function*(){return yield pt(h)}))))).reduce((h,d)=>h.flatMap(y=>d.map(g=>[...y,g])),[[]]);for(let h of f)yield yield ae(h)})}var fe=function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof __values=="function"?__values(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(o){r[o]=t[o]&&function(s){return new Promise(function(a,u){s=t[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(l){o({value:l,done:a})},s)}},E=function(t){return this instanceof E?(this.v=t,this):new E(t)},_e=function(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(d){n[d]&&(i[d]=function(y){return new Promise(function(g,w){o.push([d,y,g,w])>1||a(d,y)})})}function a(d,y){try{u(n[d](y))}catch(g){h(o[0][3],g)}}function u(d){d.value instanceof E?Promise.resolve(d.value.v).then(l,f):h(o[0][2],d)}function l(d){a("next",d)}function f(d){a("throw",d)}function h(d,y){d(y),o.shift(),o.length&&a(o[0][0],o[0][1])}};function*ir(t,e){for(let r of C(t))yield e(r)}function At(t,e){return _e(this,arguments,function*(){var n,i,o,s;try{for(var a=!0,u=fe(M(t)),l;l=yield E(u.next()),n=l.done,!n;){s=l.value,a=!1;try{yield yield E(yield E(e(s)))}finally{a=!0}}}catch(f){i={error:f}}finally{try{!a&&!n&&(o=u.return)&&(yield E(o.call(u)))}finally{if(i)throw i.error}}})}function*ps(t,e){for(let[r,n]of an(t,e))n&&(yield r)}function hs(t,e){return _e(this,arguments,function*(){var n,i,o,s;try{for(var a=!0,u=fe(un(t,e)),l;l=yield E(u.next()),n=l.done,!n;){s=l.value,a=!1;try{let[f,h]=s;h&&(yield yield E(f))}finally{a=!0}}}catch(f){i={error:f}}finally{try{!a&&!n&&(o=u.return)&&(yield E(o.call(u)))}finally{if(i)throw i.error}}})}function*ms(t,e){let r=!0;for(let n of C(t)){if(r){if(!e(n)){r=!1,yield n;continue}continue}yield n}}function ys(t,e){return _e(this,arguments,function*(){var n,i,o,s;let a=!0;try{for(var u=!0,l=fe(M(t)),f;f=yield E(l.next()),n=f.done,!n;){s=f.value,u=!1;try{let h=s;if(a){if(!(yield E(e(h)))){a=!1,yield yield E(h);continue}continue}yield yield E(h)}finally{u=!0}}}catch(h){i={error:h}}finally{try{!u&&!n&&(o=l.return)&&(yield E(o.call(l)))}finally{if(i)throw i.error}}})}function*_s(t,e){for(let r of C(t))if(e(r))yield r;else break}function vs(t,e){return _e(this,arguments,function*(){var n,i,o,s;try{for(var a=!0,u=fe(M(t)),l;l=yield E(u.next()),n=l.done,!n;){s=l.value,a=!1;try{let f=s;if(yield E(e(f)))yield yield E(f);else break}finally{a=!0}}}catch(f){i={error:f}}finally{try{!a&&!n&&(o=u.return)&&(yield E(o.call(u)))}finally{if(i)throw i.error}}})}function*pc(t,e){if(e<0)throw new re(`Number of repetitions cannot be negative: ${e}`);for(let r=e;r>0;--r)yield t}function hc(t,e){return _e(this,arguments,function*(){if(e<0)throw new re(`Number of repetitions cannot be negative: ${e}`);let n=yield E(t);for(let i=e;i>0;--i)yield yield E(n)})}function*gs(t,e){for(let r of C(t)){let n=e(r,e);if(je(n))for(let i of C(n))yield i;else yield n}}function xs(t,e){return _e(this,arguments,function*(){var n,i,o,s,a,u,l,f;try{for(var h=!0,d=fe(M(t)),y;y=yield E(d.next()),n=y.done,!n;){s=y.value,h=!1;try{let R=yield E(e(s,e));if(je(R)||Dt(R))try{for(var g=!0,w=(u=void 0,fe(M(R))),O;O=yield E(w.next()),a=O.done,!a;){f=O.value,g=!1;try{yield yield E(f)}finally{g=!0}}}catch(x){u={error:x}}finally{try{!g&&!a&&(l=w.return)&&(yield E(l.call(w)))}finally{if(u)throw u.error}}else yield yield E(R)}finally{h=!0}}}catch(k){i={error:k}}finally{try{!h&&!n&&(o=d.return)&&(yield E(o.call(d)))}finally{if(i)throw i.error}}})}function*si(t,e=1/0){if(e<1){for(let r of C(t))t instanceof Map&&(r=r[1]),yield r;return}for(let r of C(t))if(t instanceof Map&&(r=r[1]),(je(r)||it(r))&&!Et(r))for(let n of si(r,e-1))yield n;else yield r}function ai(t,e=1/0){return _e(this,arguments,function*(){var n,i,o,s,a,u,l,f,h,d,y,g;if(e<1){try{for(var w=!0,O=fe(M(t)),k;k=yield E(O.next()),n=k.done,!n;){s=k.value,w=!1;try{let A=s;t instanceof Map&&(A=A[1]),yield yield E(A)}finally{w=!0}}}catch(A){i={error:A}}finally{try{!w&&!n&&(o=O.return)&&(yield E(o.call(O)))}finally{if(i)throw i.error}}return yield E(void 0)}try{for(var R=!0,x=fe(M(t)),b;b=yield E(x.next()),a=b.done,!a;){f=b.value,R=!1;try{let A=f;if(t instanceof Map&&(A=A[1]),(Dt(A)||je(A)||it(A))&&!Et(A))try{for(var U=!0,te=(d=void 0,fe(ai(A,e-1))),_;_=yield E(te.next()),h=_.done,!h;){g=_.value,U=!1;try{yield yield E(g)}finally{U=!0}}}catch(m){d={error:m}}finally{try{!U&&!h&&(y=te.return)&&(yield E(y.call(te)))}finally{if(d)throw d.error}}else yield yield E(A)}finally{R=!0}}}catch(A){u={error:A}}finally{try{!R&&!a&&(l=x.return)&&(yield E(l.call(x)))}finally{if(u)throw u.error}}})}function*bs(t,e){for(let r of C(t))e(r)&&(yield r)}function ws(t,e){return _e(this,arguments,function*(){var n,i,o,s;try{for(var a=!0,u=fe(M(t)),l;l=yield E(u.next()),n=l.done,!n;){s=l.value,a=!1;try{let f=s;(yield E(e(f)))&&(yield yield E(f))}finally{a=!0}}}catch(f){i={error:f}}finally{try{!a&&!n&&(o=u.return)&&(yield E(o.call(u)))}finally{if(i)throw i.error}}})}function*gn(t,e,r,n=!0){if(e<1)throw new re(`Chunk size must be \u2265 1. Got ${e}`);if(r>=e)throw new re("Overlap size must be less than chunk size");let i=[],o=!1;for(let s of C(t))o=!1,i.push(s),i.length===e&&(yield i,i=i.slice(e-r),o=!0);!o&&i.length>0&&n&&(yield i)}function xn(t,e,r,n=!0){return _e(this,arguments,function*(){var o,s,a,u;if(e<1)throw new re(`Chunk size must be \u2265 1. Got ${e}`);if(r>=e)throw new re("Overlap size must be less than chunk size");let l=[],f=!1;try{for(var h=!0,d=fe(M(t)),y;y=yield E(d.next()),o=y.done,!o;){u=y.value,h=!1;try{let g=u;f=!1,l.push(g),l.length===e&&(yield yield E(l),l=l.slice(e-r),f=!0)}finally{h=!0}}}catch(g){s={error:g}}finally{try{!h&&!o&&(a=d.return)&&(yield E(a.call(d)))}finally{if(s)throw s.error}}!f&&l.length>0&&n&&(yield yield E(l))})}function*Es(t,e){for(let r of gn(t,e,0))yield r}function As(t,e){return _e(this,arguments,function*(){var n,i,o,s;try{for(var a=!0,u=fe(xn(t,e,0)),l;l=yield E(u.next()),n=l.done,!n;){s=l.value,a=!1;try{yield yield E(s)}finally{a=!0}}}catch(f){i={error:f}}finally{try{!a&&!n&&(o=u.return)&&(yield E(o.call(u)))}finally{if(i)throw i.error}}})}function*Ft(t){let e=gn(t,2,1,!1);for(let r of e)yield r}function $r(t){return _e(this,arguments,function*(){var r,n,i,o;let s=xn(t,2,1,!1);try{for(var a=!0,u=fe(s),l;l=yield E(u.next()),r=l.done,!r;){o=l.value,a=!1;try{yield yield E(o)}finally{a=!0}}}catch(f){n={error:f}}finally{try{!a&&!r&&(i=u.return)&&(yield E(i.call(u)))}finally{if(n)throw n.error}}})}function*$s(t,e){if(e<0)throw new re(`Limit must be \u2265 0. Got ${e}`);let r=0;for(let n of C(t)){if(r>=e)return;yield n,++r}}function Ts(t,e){return _e(this,arguments,function*(){var n,i,o,s;if(e<0)throw new re(`Limit must be \u2265 0. Got ${e}`);let a=0;try{for(var u=!0,l=fe(M(t)),f;f=yield E(l.next()),n=f.done,!n;){s=f.value,u=!1;try{let h=s;if(a>=e)return yield E(void 0);yield yield E(h),++a}finally{u=!0}}}catch(h){i={error:h}}finally{try{!u&&!n&&(o=l.return)&&(yield E(o.call(l)))}finally{if(i)throw i.error}}})}function*jt(t){let e=0;for(let r of C(t))yield[e++,r]}function Ss(t){return _e(this,arguments,function*(){var r,n,i,o;let s=0;try{for(var a=!0,u=fe(M(t)),l;l=yield E(u.next()),r=l.done,!r;){o=l.value,a=!1;try{let f=o;yield yield E([s++,f])}finally{a=!0}}}catch(f){n={error:f}}finally{try{!a&&!r&&(i=u.return)&&(yield E(i.call(u)))}finally{if(n)throw n.error}}})}function*ks(t,e=0,r,n=1){if(e<0)throw new re("Parameter 'start' cannot be negative");if(r!==void 0&&r<0)throw new re("Parameter 'count' cannot be negative");if(n<=0)throw new re("Parameter 'step' must be positive");let i=0,o=0;for(let s of C(t))if(!(i++<e||(i-e-1)%n!==0)){if(o++===r&&r!==void 0)break;yield s}}function Is(t,e=0,r,n=1){return _e(this,arguments,function*(){var o,s,a,u;if(e<0)throw new re("Parameter 'start' cannot be negative");if(r!==void 0&&r<0)throw new re("Parameter 'count' cannot be negative");if(n<=0)throw new re("Parameter 'step' must be positive");let l=0,f=0;try{for(var h=!0,d=fe(M(t)),y;y=yield E(d.next()),o=y.done,!o;){u=y.value,h=!1;try{let g=u;if(l++<e||(l-e-1)%n!==0)continue;if(f++===r&&r!==void 0)break;yield yield E(g)}finally{h=!0}}}catch(g){s={error:g}}finally{try{!h&&!o&&(a=d.return)&&(yield E(a.call(d)))}finally{if(s)throw s.error}}})}function*Ms(t){for(let[e]of C(t))yield e}function Ps(t){return _e(this,arguments,function*(){var r,n,i,o;try{for(var s=!0,a=fe(M(t)),u;u=yield E(a.next()),r=u.done,!r;){o=u.value,s=!1;try{let[l]=o;yield yield E(l)}finally{s=!0}}}catch(l){n={error:l}}finally{try{!s&&!r&&(i=a.return)&&(yield E(i.call(a)))}finally{if(n)throw n.error}}})}function*Cs(t,e,r=0){if(e<0||r<0)throw new re;let n=-r;for(let i of C(t))(n<0||n>=e)&&(yield i),++n}function Rs(t,e,r=0){return _e(this,arguments,function*(){var i,o,s,a;if(e<0||r<0)throw new re;let u=-r;try{for(var l=!0,f=fe(M(t)),h;h=yield E(f.next()),i=h.done,!i;){a=h.value,l=!1;try{let d=a;(u<0||u>=e)&&(yield yield E(d)),++u}finally{l=!0}}}catch(d){o={error:d}}finally{try{!l&&!i&&(s=f.return)&&(yield E(s.call(f)))}finally{if(o)throw o.error}}})}function*Os(t){for(let[,e]of C(t))yield e}function Ns(t){return _e(this,arguments,function*(){var r,n,i,o;try{for(var s=!0,a=fe(M(t)),u;u=yield E(a.next()),r=u.done,!r;){o=u.value,s=!1;try{let[,l]=o;yield yield E(l)}finally{s=!0}}}catch(l){n={error:l}}finally{try{!s&&!r&&(i=a.return)&&(yield E(i.call(a)))}finally{if(n)throw n.error}}})}function*Ls(t,e,r){let n=new Map,i=o=>{n.has(o)||(r!==void 0?n.set(o,{}):n.set(o,[]))};for(let o of C(t)){let s=e(o),a=r!==void 0?r(o):void 0,u=(je(s)||it(s))&&!Et(s)?s:[s];for(let l of Tr(u))i(l),a===void 0?n.get(l).push(o):n.get(l)[a]=o}for(let o of n)yield o}function Ds(t,e,r){return _e(this,arguments,function*(){var i,o,s,a,u,l,f,h;let d=new Map,y=b=>{d.has(b)||(r!==void 0?d.set(b,{}):d.set(b,[]))};try{for(var g=!0,w=fe(M(t)),O;O=yield E(w.next()),i=O.done,!i;){a=O.value,g=!1;try{let b=a,U=yield E(e(b)),te=r!==void 0?yield E(r(b)):void 0,_=(Dt(U)||je(U)||it(U))&&!Et(U)?U:[U];try{for(var k=!0,R=(l=void 0,fe(yn(_))),x;x=yield E(R.next()),u=x.done,!u;){h=x.value,k=!1;try{let A=h;y(A),te===void 0?d.get(A).push(b):d.get(A)[te]=b}finally{k=!0}}}catch(A){l={error:A}}finally{try{!k&&!u&&(f=R.return)&&(yield E(f.call(R)))}finally{if(l)throw l.error}}}finally{g=!0}}}catch(b){o={error:b}}finally{try{!g&&!i&&(s=w.return)&&(yield E(s.call(w)))}finally{if(o)throw o.error}}for(let b of d)yield yield E(b)})}function*Fs(t,e){let r=qt(t);e!==void 0?r.sort(e):r.sort();for(let n of r)yield n}function qs(t,e){return _e(this,arguments,function*(){let n=yield E(pt(t));e!==void 0?n.sort(e):n.sort();for(let i of n)yield yield E(i)})}var mc=function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof __values=="function"?__values(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(o){r[o]=t[o]&&function(s){return new Promise(function(a,u){s=t[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(l){o({value:l,done:a})},s)}},or=function(t){return this instanceof or?(this.v=t,this):new or(t)},qd=function(t){var e,r;return e={},n("next"),n("throw",function(i){throw i}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(i,o){e[i]=t[i]?function(s){return(r=!r)?{value:or(t[i](s)),done:i==="return"}:o?o(s):s}:o}},jd=function(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(d){n[d]&&(i[d]=function(y){return new Promise(function(g,w){o.push([d,y,g,w])>1||a(d,y)})})}function a(d,y){try{u(n[d](y))}catch(g){h(o[0][3],g)}}function u(d){d.value instanceof or?Promise.resolve(d.value.v).then(l,f):h(o[0][2],d)}function l(d){a("next",d)}function f(d){a("throw",d)}function h(d,y){d(y),o.shift(),o.length&&a(o[0][0],o[0][1])}};function*yc(t=1,e=1){for(let r=t;;r+=e)yield r}function*$u(t){let e=[...C(t)];if(e.length!==0)for(;;)for(let r of e)yield r}function _c(t){return jd(this,arguments,function*(){var r,n,i,o;let s=[];try{for(var a=!0,u=mc(M(t)),l;l=yield or(u.next()),r=l.done,!r;){o=l.value,a=!1;try{let f=o;s.push(f),yield yield or(f)}finally{a=!0}}}catch(f){n={error:f}}finally{try{!a&&!r&&(i=u.return)&&(yield or(i.call(u)))}finally{if(n)throw n.error}}yield or(yield*qd(mc($u(s))))})}function*vc(t){for(;;)yield t}var bn=function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof __values=="function"?__values(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(o){r[o]=t[o]&&function(s){return new Promise(function(a,u){s=t[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(l){o({value:l,done:a})},s)}},ne=function(t){return this instanceof ne?(this.v=t,this):new ne(t)},wn=function(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(d){n[d]&&(i[d]=function(y){return new Promise(function(g,w){o.push([d,y,g,w])>1||a(d,y)})})}function a(d,y){try{u(n[d](y))}catch(g){h(o[0][3],g)}}function u(d){d.value instanceof ne?Promise.resolve(d.value.v).then(l,f):h(o[0][2],d)}function l(d){a("next",d)}function f(d){a("throw",d)}function h(d,y){d(y),o.shift(),o.length&&a(o[0][0],o[0][1])}};function*js(t,e){let r=0;for(let n of ui(C(t),e))r++,yield n/r}function Bs(t,e){return wn(this,arguments,function*(){var n,i,o,s;let a=0;try{for(var u=!0,l=bn(li(M(t),e)),f;f=yield ne(l.next()),n=f.done,!n;){s=f.value,u=!1;try{let h=s;a++,yield yield ne(h/a)}finally{u=!0}}}catch(h){i={error:h}}finally{try{!u&&!n&&(o=l.return)&&(yield ne(o.call(l)))}finally{if(i)throw i.error}}})}function*Us(t,e){e!==void 0&&(yield e);let r=e??0;for(let n of C(t))r-=Number(n),yield r}function Ws(t,e){return wn(this,arguments,function*(){var n,i,o,s;e!==void 0&&(yield yield ne(e));let a=e??0;try{for(var u=!0,l=bn(M(t)),f;f=yield ne(l.next()),n=f.done,!n;){s=f.value,u=!1;try{a-=Number(s),yield yield ne(a)}finally{u=!0}}}catch(h){i={error:h}}finally{try{!u&&!n&&(o=l.return)&&(yield ne(o.call(l)))}finally{if(i)throw i.error}}})}function*zs(t,e){e!==void 0&&(yield e);let r=e??-1/0;for(let n of C(t))r=Math.max(r,n),yield r}function Js(t,e){return wn(this,arguments,function*(){var n,i,o,s;e!==void 0&&(yield yield ne(e));let a=e??-1/0;try{for(var u=!0,l=bn(M(t)),f;f=yield ne(l.next()),n=f.done,!n;){s=f.value,u=!1;try{a=Math.max(a,s),yield yield ne(a)}finally{u=!0}}}catch(h){i={error:h}}finally{try{!u&&!n&&(o=l.return)&&(yield ne(o.call(l)))}finally{if(i)throw i.error}}})}function*Hs(t,e){e!==void 0&&(yield e);let r=e??1/0;for(let n of C(t))r=Math.min(r,n),yield r}function Vs(t,e){return wn(this,arguments,function*(){var n,i,o,s;e!==void 0&&(yield yield ne(e));let a=e??1/0;try{for(var u=!0,l=bn(M(t)),f;f=yield ne(l.next()),n=f.done,!n;){s=f.value,u=!1;try{a=Math.min(a,s),yield yield ne(a)}finally{u=!0}}}catch(h){i={error:h}}finally{try{!u&&!n&&(o=l.return)&&(yield ne(o.call(l)))}finally{if(i)throw i.error}}})}function*Gs(t,e){e!==void 0&&(yield e);let r=e??1;for(let n of C(t))r*=Number(n),yield r}function Ys(t,e){return wn(this,arguments,function*(){var n,i,o,s;e!==void 0&&(yield yield ne(e));let a=e??1;try{for(var u=!0,l=bn(M(t)),f;f=yield ne(l.next()),n=f.done,!n;){s=f.value,u=!1;try{a*=Number(s),yield yield ne(a)}finally{u=!0}}}catch(h){i={error:h}}finally{try{!u&&!n&&(o=l.return)&&(yield ne(o.call(l)))}finally{if(i)throw i.error}}})}function*ui(t,e){e!==void 0&&(yield e);let r=e??0;for(let n of C(t))r+=Number(n),yield r}function li(t,e){return wn(this,arguments,function*(){var n,i,o,s;e!==void 0&&(yield yield ne(e));let a=e??0;try{for(var u=!0,l=bn(M(t)),f;f=yield ne(l.next()),n=f.done,!n;){s=f.value,u=!1;try{a+=Number(s),yield yield ne(a)}finally{u=!0}}}catch(h){i={error:h}}finally{try{!u&&!n&&(o=l.return)&&(yield ne(o.call(l)))}finally{if(i)throw i.error}}})}var tr=class t{static of(e){return new t(C(e))}static ofEmpty(){return new t([])}static ofCount(e=1,r=1){return new t(Bt.count(e,r))}static ofCycle(e){return new t(Bt.cycle(e))}static ofRepeat(e){return new t(Bt.repeat(e))}zipWith(...e){return this.data=an(this.data,...e),this}zipFilledWith(e,...r){return this.data=co(e,this.data,...r),this}zipLongestWith(...e){return this.data=po(this.data,...e),this}zipEqualWith(...e){return this.data=ln(this.data,...e),this}chainWith(...e){return this.data=mo(this.data,...e),this}chunkwiseOverlap(e,r,n=!0){return this.data=gn(this.data,e,r,n),this}chunkwise(e){return this.data=Es(this.data,e),this}compress(e){return this.data=ps(this.data,e),this}dropWhile(e){return this.data=ms(this.data,e),this}filter(e){return this.data=bs(this.data,e),this}enumerate(){return this.data=jt(this.data),this}keys(){return this.data=Ms(this.data),this}limit(e){return this.data=$s(this.data,e),this}map(e){return this.data=ir(this.data,e),this}flatMap(e){return this.data=gs(this.data,e),this}flatten(e=1/0){return this.data=si(this.data,e),this}groupBy(e,r){return this.data=Ls(this.data,e,r),this}pairwise(){return this.data=Ft(this.data),this}runningAverage(e){return this.data=js(this.data,e),this}runningDifference(e){return this.data=Us(this.data,e),this}runningMax(e){return this.data=zs(this.data,e),this}runningMin(e){return this.data=Hs(this.data,e),this}runningProduct(e){return this.data=Gs(this.data,e),this}runningTotal(e){return this.data=ui(this.data,e),this}skip(e,r=0){return this.data=Cs(this.data,e,r),this}slice(e=0,r,n=1){return this.data=ks(this.data,e,r,n),this}takeWhile(e){return this.data=_s(this.data,e),this}values(){return this.data=Os(this.data),this}sort(e){return this.data=Fs(this.data,e),this}distinct(e){return this.data=Tr(this.data,e),this}intersectionWith(...e){return this.data=os(this.data,...e),this}partialIntersectionWith(e,...r){return this.data=_n(e,this.data,...r),this}symmetricDifferenceWith(...e){return this.data=as(this.data,...e),this}unionWith(...e){return this.data=ls(this.data,...e),this}cartesianProductWith(...e){return this.data=fs(this.data,...e),this}peek(e){let[r,n]=dn(this.data,2);this.data=r;for(let i of n)e(i);return this}peekStream(e){let[r,n]=dn(this.data,2);return this.data=r,e(t.of(n)),this}toValue(e,r){return Ke(this,e,r)}toAverage(){return vo(this)}toCount(){return Ar(this)}toMax(e){return xo(this,e)}toMin(e){return wo(this,e)}toMinMax(e){return ii(this,e)}toFirst(){return Mo(this)}toFirstAndLast(){return Oo(this)}toLast(){return Co(this)}toSum(){return To(this)}toProduct(){return ko(this)}toRange(){return Ao(this)}allMatch(e){return Lo(this,e)}allUnique(){return Fo(this)}anyMatch(e){return jo(this,e)}exactlyN(e,r){return Uo(this,e,r)}isSorted(){return Ho(this)}isReversed(){return zo(this)}noneMatch(e){return Go(this,e)}sameWith(...e){return Ko(this.data,...e)}sameCountWith(...e){return Zo(this.data,...e)}tee(e){return dn(this.data,e).map(r=>new t(r))}toArray(){return qt(this)}toMap(){return ts(this)}toSet(){return ns(this)}*[Symbol.iterator](){for(let e of this.data)yield e}constructor(e){this.data=e}};var ie=function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{l(n.next(f))}catch(h){s(h)}}function u(f){try{l(n.throw(f))}catch(h){s(h)}}function l(f){f.done?o(f.value):i(f.value).then(a,u)}l((n=n.apply(t,e||[])).next())})},gc=function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof __values=="function"?__values(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(o){r[o]=t[o]&&function(s){return new Promise(function(a,u){s=t[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(l){o({value:l,done:a})},s)}},En=function(t){return this instanceof En?(this.v=t,this):new En(t)},Bd=function(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(d){n[d]&&(i[d]=function(y){return new Promise(function(g,w){o.push([d,y,g,w])>1||a(d,y)})})}function a(d,y){try{u(n[d](y))}catch(g){h(o[0][3],g)}}function u(d){d.value instanceof En?Promise.resolve(d.value.v).then(l,f):h(o[0][2],d)}function l(d){a("next",d)}function f(d){a("throw",d)}function h(d,y){d(y),o.shift(),o.length&&a(o[0][0],o[0][1])}},Ks=class t{static of(e){return new t(M(e))}static ofEmpty(){return new t(M([]))}static ofCount(e=1,r=1){return new t(M(Bt.count(e,r)))}static ofCycle(e){return new t(Bt.cycleAsync(e))}static ofRepeat(e){return new t(M(Bt.repeat(e)))}zipWith(...e){return this.data=un(this.data,...e),this}zipFilledWith(e,...r){return this.data=fo(e,this.data,...r),this}zipLongestWith(...e){return this.data=ho(this.data,...e),this}zipEqualWith(...e){return this.data=cn(this.data,...e),this}chainWith(...e){return this.data=yo(this.data,...e),this}chunkwiseOverlap(e,r,n=!0){return this.data=xn(this.data,e,r,n),this}chunkwise(e){return this.data=As(this.data,e),this}compress(e){return this.data=hs(this.data,e),this}dropWhile(e){return this.data=ys(this.data,e),this}filter(e){return this.data=ws(this.data,e),this}enumerate(){return this.data=Ss(this.data),this}keys(){return this.data=Ps(this.data),this}limit(e){return this.data=Ts(this.data,e),this}map(e){return this.data=At(this.data,e),this}flatMap(e){return this.data=xs(this.data,e),this}flatten(e=1/0){return this.data=ai(this.data,e),this}groupBy(e,r){return this.data=Ds(this.data,e,r),this}pairwise(){return this.data=$r(this.data),this}runningAverage(e){return this.data=Bs(this.data,e),this}runningDifference(e){return this.data=Ws(this.data,e),this}runningMax(e){return this.data=Js(this.data,e),this}runningMin(e){return this.data=Vs(this.data,e),this}runningProduct(e){return this.data=Ys(this.data,e),this}runningTotal(e){return this.data=li(this.data,e),this}skip(e,r=0){return this.data=Rs(this.data,e,r),this}slice(e=0,r,n=1){return this.data=Is(this.data,e,r,n),this}takeWhile(e){return this.data=vs(this.data,e),this}values(){return this.data=Ns(this.data),this}sort(e){return this.data=qs(this.data,e),this}distinct(e){return this.data=yn(this.data,e),this}intersectionWith(...e){return this.data=ss(this.data,...e),this}partialIntersectionWith(e,...r){return this.data=vn(e,this.data,...r),this}symmetricDifferenceWith(...e){return this.data=us(this.data,...e),this}unionWith(...e){return this.data=cs(this.data,...e),this}cartesianProductWith(...e){return this.data=ds(this.data,...e),this}peek(e){let[r,n]=pn(this.data,2);return this.data=r,ie(this,void 0,void 0,function*(){var i,o,s,a;try{for(var u=!0,l=gc(n),f;f=yield l.next(),i=f.done,!i;){a=f.value,u=!1;try{e(a)}finally{u=!0}}}catch(h){o={error:h}}finally{try{!u&&!i&&(s=l.return)&&(yield s.call(l))}finally{if(o)throw o.error}}}),this}peekStream(e){let[r,n]=pn(this.data,2);return this.data=r,e(t.of(n)),this}toValue(e,r){return ie(this,void 0,void 0,function*(){return yield Qe(this,e,r)})}toAverage(){return ie(this,void 0,void 0,function*(){return yield go(this)})}toCount(){return ie(this,void 0,void 0,function*(){return yield fn(this)})}toMax(e){return ie(this,void 0,void 0,function*(){return yield bo(this,e)})}toMin(e){return ie(this,void 0,void 0,function*(){return yield Eo(this,e)})}toMinMax(e){return ie(this,void 0,void 0,function*(){return yield oi(this,e)})}toFirst(){return ie(this,void 0,void 0,function*(){return yield Po(this)})}toFirstAndLast(){return ie(this,void 0,void 0,function*(){return yield No(this)})}toLast(){return ie(this,void 0,void 0,function*(){return yield Ro(this)})}toSum(){return ie(this,void 0,void 0,function*(){return yield So(this)})}toProduct(){return ie(this,void 0,void 0,function*(){return yield Io(this)})}toRange(){return ie(this,void 0,void 0,function*(){return yield $o(this)})}allMatch(e){return ie(this,void 0,void 0,function*(){return yield Do(this,e)})}allUnique(){return ie(this,void 0,void 0,function*(){return yield qo(this)})}anyMatch(e){return ie(this,void 0,void 0,function*(){return yield Bo(this,e)})}exactlyN(e,r){return ie(this,void 0,void 0,function*(){return Wo(this,e,r)})}isSorted(){return ie(this,void 0,void 0,function*(){return yield Vo(this)})}isReversed(){return ie(this,void 0,void 0,function*(){return yield Jo(this)})}noneMatch(e){return ie(this,void 0,void 0,function*(){return yield Yo(this,e)})}sameWith(...e){return ie(this,void 0,void 0,function*(){return yield Qo(this.data,...e)})}sameCountWith(...e){return ie(this,void 0,void 0,function*(){return yield Xo(this.data,...e)})}tee(e){return pn(this.data,e).map(r=>new t(r))}toArray(){return ie(this,void 0,void 0,function*(){return yield pt(this)})}toMap(){return ie(this,void 0,void 0,function*(){return yield rs(this)})}toSet(){return ie(this,void 0,void 0,function*(){return yield is(this)})}[Symbol.asyncIterator](){return Bd(this,arguments,function*(){var r,n,i,o;try{for(var s=!0,a=gc(this.data),u;u=yield En(a.next()),r=u.done,!r;){o=u.value,s=!1;try{yield yield En(o)}finally{s=!0}}}catch(l){n={error:l}}finally{try{!s&&!r&&(i=a.return)&&(yield En(i.call(a)))}finally{if(n)throw n.error}}})}constructor(e){this.data=e}};var sn={chunkwise:Es,chunkwiseOverlap:gn,compress:ps,dropWhile:ms,enumerate:jt,filter:bs,flatMap:gs,flatten:si,groupBy:Ls,keys:Ms,limit:$s,map:ir,pairwise:Ft,repeat:pc,skip:Cs,slice:ks,sort:Fs,takeWhile:_s,values:Os,chunkwiseAsync:As,chunkwiseOverlapAsync:xn,compressAsync:hs,dropWhileAsync:ys,enumerateAsync:Ss,filterAsync:ws,flatMapAsync:xs,flattenAsync:ai,groupByAsync:Ds,keysAsync:Ps,limitAsync:Ts,mapAsync:At,pairwiseAsync:$r,repeatAsync:hc,skipAsync:Rs,sliceAsync:Is,sortAsync:qs,takeWhileAsync:vs,valuesAsync:Ns},Bt={count:yc,cycle:$u,cycleAsync:_c,repeat:vc},Ud={runningAverage:js,runningDifference:Us,runningMax:zs,runningMin:Hs,runningProduct:Gs,runningTotal:ui,runningAverageAsync:Bs,runningDifferenceAsync:Ws,runningMaxAsync:Js,runningMinAsync:Vs,runningProductAsync:Ys,runningTotalAsync:li},Wd={chain:mo,zip:an,zipFilled:co,zipLongest:po,zipEqual:ln,chainAsync:yo,zipAsync:un,zipFilledAsync:fo,zipLongestAsync:ho,zipEqualAsync:cn},zd={distinct:Tr,intersection:os,partialIntersection:_n,symmetricDifference:as,union:ls,cartesianProduct:fs,distinctAsync:yn,intersectionAsync:ss,partialIntersectionAsync:vn,symmetricDifferenceAsync:us,unionAsync:cs,cartesianProductAsync:ds},lo={toAverage:vo,toCount:Ar,toFirst:Mo,toFirstAndLast:Oo,toLast:Co,toMax:xo,toMin:wo,toMinMax:ii,toProduct:ko,toRange:Ao,toSum:To,toValue:Ke,toAverageAsync:go,toCountAsync:fn,toFirstAsync:Po,toFirstAndLastAsync:No,toLastAsync:Ro,toMaxAsync:bo,toMinAsync:Eo,toMinMaxAsync:oi,toProductAsync:Io,toRangeAsync:$o,toSumAsync:So,toValueAsync:Qe},Jd={allMatch:Lo,allUnique:Fo,anyMatch:jo,exactlyN:Uo,isEmpty:cc,isAsyncIterable:Dt,isIterable:je,isIterator:it,isReversed:zo,isSorted:Ho,isString:Et,noneMatch:Go,same:Ko,sameCount:Zo,allMatchAsync:Do,allUniqueAsync:qo,anyMatchAsync:Bo,exactlyNAsync:Wo,isEmptyAsync:fc,isReversedAsync:Jo,isSortedAsync:Vo,noneMatchAsync:Yo,sameAsync:Qo,sameCountAsync:Xo},Hd={tee:dn,toArray:qt,toAsyncIterable:M,toAsyncIterator:ti,toIterable:C,toIterator:ei,toMap:ts,toSet:ns,teeAsync:pn,toArrayAsync:pt,toMapAsync:rs,toSetAsync:is};var Qs=class{apiInstance;constructor(e){this.apiInstance=e}parsinom(){return{P:xc.P,P_UTILS:bc.P_UTILS,Parser:wc.Parser,createParsingErrorMessage:Zs.createParsingErrorMessage,ParsingError:Zs.ParsingError,ParserContext:Ec.ParserContext}}itertools(){return Tu}};var C$=require("obsidian");var Ac=require("obsidian");var Vd=Z("<tr><td> </td><td> </td></tr>"),Gd=Z("<tr><td>none</td><td>-</td></tr>"),Yd=Z("<p>None</p>"),Kd=Z('<div><h2>JS Execution Stats</h2> <p> </p> <h3>Code</h3> <pre class="language-js"><code class="language-js"><!></code></pre> <h3>Time</h3> <p> </p> <p> </p> <h3>Arguments</h3> <div class="markdown-rendered"><table><thead><tr><th>Argument Name</th><th>Value Type</th></tr></thead><tbody></tbody></table></div> <h3>Messages</h3> <div></div></div>');function Su(t,e){Te(e,!0);function r(ee){let Y=window.Prism;try{return Y.highlight(ee,Y.languages.javascript,"javascript")}catch(Pe){return console.warn("js-engine | failed to highlight code",Pe),ee}}var n=Kd(),i=j(n),o=S(S(i,!0)),s=j(o);D(o);var a=S(S(o,!0)),u=S(S(a,!0)),l=j(u),f=j(l);Ka(f,()=>r(e.execution.code),!1,!1),D(l),D(u);var h=S(S(u,!0)),d=S(S(h,!0)),y=j(d);D(d);var g=S(S(d,!0)),w=j(g);D(g);var O=S(S(g,!0)),k=S(S(O,!0)),R=j(k),x=j(R),b=j(x),U=j(b),te=S(U);D(b),D(x);var _=S(x);Xt(_,77,()=>Object.entries(e.execution.globals),(ee,Y)=>ee[0],(ee,Y,Pe)=>{var ot=Vd(),Ze=j(ot),Tt=j(Ze);D(Ze);var pi=S(Ze),St=j(pi);D(pi),D(ot),ue(()=>{pe(Tt,Ne(Y)[0]),pe(St,typeof Ne(Y)[1])}),H(ee,ot)},ee=>{var Y=Gd(),Pe=j(Y),ot=S(Pe);D(Y),H(ee,Y)}),D(_),D(R),D(k);var A=S(S(k,!0)),m=S(S(A,!0));Xt(m,73,()=>e.execution.getMessages(),Un,(ee,Y,Pe)=>{xr(ee,{get messageWrapper(){return Ne(Y)},get messageManager(){return e.execution.plugin.messageManager},showDeleteButton:!1,showMessageSource:!1})},ee=>{var Y=Yd();H(ee,Y)}),D(m),D(n),ue(()=>{pe(s,`Execution ID: ${e.execution.uuid??""}`),pe(y,`Build Time: ${Math.round(e.execution.functionBuildTime??0)??""} ms`),pe(w,`Execution Time: ${Math.round(e.execution.functionRunTime??0)??""} ms`)}),H(t,n),Se()}var Xs=class extends Ac.Modal{plugin;component;execution;constructor(e,r){super(e),this.plugin=r}setExecution(e){this.execution=e}onOpen(){if(this.contentEl.empty(),this.component&&Ge(this.component),this.contentEl.hasClass("js-engine-execution-stats-modal")||this.contentEl.addClass("js-engine-execution-stats-modal"),this.execution===void 0){this.contentEl.createEl("p",{cls:"mod-warning",text:"No execution data available."});return}this.component=Ie(Su,{target:this.contentEl,props:{execution:this.execution}})}onClose(){this.contentEl.empty(),this.component&&Ge(this.component)}};var ea=class{app;plugin;executionStatsModal;activeExecutions;constructor(e,r){this.app=e,this.plugin=r,this.executionStatsModal=new Xs(this.app,this.plugin),this.activeExecutions=new Map}async execute(e){let r=new ta({app:this.app,plugin:this.plugin,...e});return this.activeExecutions.set(r.uuid,r),r.buildFunction(),r.functionBuildError||await r.runFunction(),this.activeExecutions.delete(r.uuid),r}openExecutionStatsModal(e){this.executionStatsModal.setExecution(e),this.executionStatsModal.open()}};var ci=require("obsidian");var ra=class{apiInstance;constructor(e){this.apiInstance=e}async execute(e){return await this.apiInstance.plugin.jsEngine.execute(e)}createRenderer(e,r,n){return new tn(this.apiInstance.plugin,e,r,n)}async executeFile(e,r){let n=this.apiInstance.app.vault.getAbstractFileByPath(e);if(!n||!(n instanceof ci.TFile))throw new Error(`File ${e} not found.`);let i=r;return i.code=await this.apiInstance.app.vault.read(n),await this.execute(i)}async executeFileSimple(e,r){let n=new ci.Component;n.load();try{return await this.executeFile(e,{component:n,...r})}finally{n.unload()}}async getContextForFile(e){let r=this.apiInstance.app.vault.getAbstractFileByPath(e);if(!r||!(r instanceof ci.TFile))throw new Error(`File ${e} not found.`);let n=this.apiInstance.app.metadataCache.getFileCache(r);return{file:r,metadata:n??void 0,block:void 0}}};var $c=require("obsidian"),na=class{apiInstance;constructor(e){this.apiInstance=e}files(e){return this.apiInstance.app.vault.getMarkdownFiles().map(r=>e(r)).filter(r=>r!==void 0)}filesWithMetadata(e){return this.apiInstance.app.vault.getMarkdownFiles().map(r=>{let n=this.apiInstance.app.metadataCache.getFileCache(r),i=n?(0,$c.getAllTags)(n)??[]:[];return e(r,n,i)}).filter(r=>r!==void 0)}};var Tc=require("obsidian");var Sr=class extends Tc.Modal{component;options;createComponent;onSubmit;submitted;constructor(e,r,n,i){super(e),this.options=r,this.createComponent=n,this.onSubmit=i,this.submitted=!1}onOpen(){this.submitted=!1,this.setTitle(this.options.title),this.containerEl.addClasses(this.options.classes??[]),this.createComponent(this,this.contentEl)}onClose(){this.submitted||(this.submitted=!0,this.onSubmit(void 0)),this.component&&Ge(this.component),this.contentEl.empty()}submit(e){this.submitted=!0,this.onSubmit(e),this.close()}};var Qd=Z('<p> </p> <div class="modal-button-container"></div>',1);function ku(t,e){Te(e,!0);var r=Qd(),n=vt(r),i=j(n);D(n);var o=S(S(n,!0));Xt(o,73,()=>e.options.buttons,Un,(s,a,u)=>{var l=yr(()=>Ne(a).variant??"default");er(s,{get variant(){return q(l)},onclick:()=>e.modal.submit(Ne(a).value),children:(f,h)=>{Ht();var d=za();ue(()=>pe(d,Ne(a).label)),H(f,d)},$$slots:{default:!0}})}),D(o),ue(()=>pe(i,e.options.content)),H(t,r),Se()}var Zd=Z('<textarea style="width: 100%; resize: vertical; height: 200px"></textarea>'),Xd=Z('<input style="width: 100%;" type="text">'),ep=Z('<input style="width: 100%;" type="number">'),tp=Z("Submit",1),rp=Z("Cancel",1),np=Z('<p> </p> <!> <div class="modal-button-container"><!> <!></div>',1);function fi(t,e){Te(e,!0);let r=ce(void 0);var n=np(),i=vt(n),o=j(i);D(i);var s=S(S(i,!0));xt(s,()=>e.inputType==="textarea",f=>{var h=Zd();Za(h),ue(()=>tt(h,"placeholder",e.options.placeholder??"Text here...")),zn(h,()=>q(r),d=>V(r,d)),H(f,h)},f=>{var h=Ja(),d=vt(h);xt(d,()=>e.inputType==="text",y=>{var g=Xd();Bi(g),ue(()=>tt(g,"placeholder",e.options.placeholder??"Text here...")),zn(g,()=>q(r),w=>V(r,w)),H(y,g)},y=>{var g=ep();Bi(g),ue(()=>tt(g,"placeholder",e.options.placeholder??"Number here...")),zn(g,()=>q(r),w=>V(r,w)),H(y,g)},!0),H(f,h)});var a=S(S(s,!0)),u=j(a);er(u,{get variant(){return"primary"},onclick:()=>e.modal.submit(q(r)),children:(f,h)=>{Ht();var d=tp();H(f,d)},$$slots:{default:!0}});var l=S(S(u,!0));er(l,{get variant(){return"default"},onclick:()=>e.modal.submit(void 0),children:(f,h)=>{Ht();var d=rp();H(f,d)},$$slots:{default:!0}}),D(a),ue(()=>pe(o,e.options.content)),H(t,n),Se()}var Sc=require("obsidian"),ia=class extends Sc.FuzzySuggestModal{options;onSubmit;selectedValue;constructor(e,r,n){super(e),this.options=r,this.onSubmit=n,r.placeholder&&this.setPlaceholder(r.placeholder)}getItems(){return this.options.options}getItemText(e){return e.label}onChooseItem(e,r){this.selectedValue=e.value}onOpen(){super.onOpen(),this.selectedValue=void 0}onClose(){super.onClose(),queueMicrotask(()=>{this.onSubmit(this.selectedValue)})}};var oa=class{apiInstance;constructor(e){this.apiInstance=e}button(e){return new Promise((r,n)=>{try{new Sr(this.apiInstance.app,e,(i,o)=>Ie(ku,{target:o,props:{options:e,modal:i}}),r).open()}catch(i){n(i)}})}async confirm(e){return await this.button({...e,buttons:[{label:"Confirm",value:!0,variant:"primary"},{label:"Cancel",value:!1,variant:"default"}]})??!1}async yesNo(e){return await this.button({...e,buttons:[{label:"Yes",value:!0,variant:"primary"},{label:"No",value:!1,variant:"default"}]})}suggester(e){return new Promise((r,n)=>{try{new ia(this.apiInstance.app,e,r).open()}catch(i){n(i)}})}text(e){return new Promise((r,n)=>{try{new Sr(this.apiInstance.app,e,(i,o)=>Ie(fi,{target:o,props:{options:e,modal:i,inputType:"text"}}),r).open()}catch(i){n(i)}})}textarea(e){return new Promise((r,n)=>{try{new Sr(this.apiInstance.app,e,(i,o)=>Ie(fi,{target:o,props:{options:e,modal:i,inputType:"textarea"}}),r).open()}catch(i){n(i)}})}number(e){return new Promise((r,n)=>{try{new Sr(this.apiInstance.app,e,(i,o)=>Ie(fi,{target:o,props:{options:e,modal:i,inputType:"number"}}),r).open()}catch(i){n(i)}})}};var An=class{app;plugin;instanceId;markdown;message;lib;query;prompt;internal;constructor(e,r,n){this.app=e,this.plugin=r,this.instanceId=n,this.markdown=new Ki(this),this.message=new Qi(this),this.lib=new Qs(this),this.query=new na(this),this.prompt=new oa(this),this.internal=new ra(this)}async importJs(e){let r=this.app.vault.adapter.getResourcePath(e);if(!r.includes("?")){let n=this.app.metadataCache.getFirstLinkpathDest(e,"");n&&(r+="?"+n.stat.mtime)}return import(r)}getPlugin(e){return this.app.plugins.getPlugin(e)??void 0}reactive(e,...r){return new rn(this,e,r)}};var op=Or(require("obsidian"));var ta=class{app;plugin;context;apiInstance;messages;func;globals;uuid;code;result;functionBuildError;functionRunError;functionBuildTime;functionRunTime;constructor(e){this.app=e.app,this.plugin=e.plugin,this.code=e.code,this.context=Object.assign({},e.context,e.contextOverrides),this.uuid=self.crypto.randomUUID(),this.apiInstance=new An(this.app,this.plugin,new Qr("JS_EXECUTION",this.uuid)),this.messages=[],this.func=void 0,this.globals={app:this.app,engine:this.apiInstance,context:this.context,component:e.component,container:e.container,obsidian:op}}buildFunction(){let e=performance.now();try{this.func=window.eval(`(async function anonymous(${Object.keys(this.globals).join(", ")}) {

${this.code}

})
 //# sourceURL=${encodeURIComponent(this.apiInstance.instanceId.toString())}`)}catch(r){r instanceof Error&&(this.functionBuildError=r,this.result=this.plugin.api?.message.createMessage("error","Failed to parse JS",`Failed to parse JS during execution "${this.uuid}"`,r.stack))}this.functionBuildTime=performance.now()-e}async runFunction(){if(this.functionBuildError)throw new Error("can not run function, function construction failed");if(!this.func)throw new Error("can not run function, function has not been constructed yet");let e=performance.now();try{this.result=await Promise.resolve(this.func(...Object.values(this.globals)))}catch(r){console.warn("failed to execute JS",r),r instanceof Error&&(this.functionRunError=r,this.result=this.apiInstance.message.createMessage("error","Failed to execute JS",`Failed to execute JS during execution "${this.uuid}"`,r.stack))}this.messages=this.apiInstance.message.getMessagesForInstance(),this.functionRunTime=performance.now()-e}isSuccessful(){return!this.functionBuildError&&!this.functionRunError}getMessages(){return this.messages}openStatsModal(){this.plugin.jsEngine.openExecutionStatsModal(this)}};var sa=class extends sr.MarkdownRenderChild{plugin;content;ctx;jsExecution;constructor(e,r,n,i){super(e),this.plugin=r,this.content=n,this.ctx=i}getExecutionFile(){if(!this.ctx.sourcePath)return;let e=this.plugin.app.vault.getAbstractFileByPath(this.ctx.sourcePath);if(e&&e instanceof sr.TFile)return e}buildExecutionContext(){let e=this.getExecutionFile();return{file:e,metadata:e===void 0?void 0:this.plugin.app.metadataCache.getFileCache(e)??void 0,block:void 0}}async tryRun(e){return this.plugin.jsEngine.execute({code:this.content,context:e,contextOverrides:{},component:this,container:this.containerEl})}async renderResults(e){let r=this.buildExecutionContext();this.jsExecution=await this.tryRun(r);let n=this.jsExecution.result;await new tn(this.plugin,e,this.ctx.sourcePath,this).render(n)}renderExecutionStats(e){let r=new sr.Menu;r.addItem(i=>{i.setTitle("Info"),i.setIcon("info"),i.onClick(()=>{this.jsExecution?.openStatsModal()})}),r.addItem(i=>{i.setTitle("Rerun"),i.setIcon("rotate-ccw"),i.onClick(()=>{this.render()})});let n=e.createDiv();n.addClass("js-engine-execution-stats-button"),n.addEventListener("click",i=>{r.showAtMouseEvent(i)}),(0,sr.setIcon)(n,"info")}async render(){this.containerEl.empty(),this.containerEl.hasClass("js-engine-execution-render-child")||this.containerEl.addClass("js-engine-execution-render-child");try{await this.renderResults(this.containerEl),this.renderExecutionStats(this.containerEl)}catch(e){this.containerEl.innerText=e instanceof Error?e.stack?.toString()??"":e,this.containerEl.addClass("mod-warning")}}async onload(){await this.render()}onunload(){}};function aa(t){var e=t.statementIndent,r=t.jsonld,n=t.json||r,i=t.typescript,o=t.wordCharacters||/[\w$\xa1-\uffff]/,s=function(){function c(Ue){return{type:Ue,style:"keyword"}}var p=c("keyword a"),v=c("keyword b"),$=c("keyword c"),T=c("keyword d"),J=c("operator"),Q={type:"atom",style:"atom"};return{if:c("if"),while:p,with:p,else:v,do:v,try:v,finally:v,return:T,break:T,continue:T,new:c("new"),delete:$,void:$,throw:$,debugger:c("debugger"),var:c("var"),const:c("var"),let:c("var"),function:c("function"),catch:c("catch"),for:c("for"),switch:c("switch"),case:c("case"),default:c("default"),in:J,typeof:J,instanceof:J,true:Q,false:Q,null:Q,undefined:Q,NaN:Q,Infinity:Q,this:c("this"),class:c("class"),super:c("atom"),yield:$,export:c("export"),import:c("import"),extends:$,await:$}}(),a=/[+\-*&%=<>!?|~^@]/,u=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function l(c){for(var p=!1,v,$=!1;(v=c.next())!=null;){if(!p){if(v=="/"&&!$)return;v=="["?$=!0:$&&v=="]"&&($=!1)}p=!p&&v=="\\"}}var f,h;function d(c,p,v){return f=c,h=v,p}function y(c,p){var v=c.next();if(v=='"'||v=="'")return p.tokenize=g(v),p.tokenize(c,p);if(v=="."&&c.match(/^\d[\d_]*(?:[eE][+\-]?[\d_]+)?/))return d("number","number");if(v=="."&&c.match(".."))return d("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(v))return d(v);if(v=="="&&c.eat(">"))return d("=>","operator");if(v=="0"&&c.match(/^(?:x[\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?/))return d("number","number");if(/\d/.test(v))return c.match(/^[\d_]*(?:n|(?:\.[\d_]*)?(?:[eE][+\-]?[\d_]+)?)?/),d("number","number");if(v=="/")return c.eat("*")?(p.tokenize=w,w(c,p)):c.eat("/")?(c.skipToEnd(),d("comment","comment")):Xc(c,p,1)?(l(c),c.match(/^\b(([gimyus])(?![gimyus]*\2))+\b/),d("regexp","string.special")):(c.eat("="),d("operator","operator",c.current()));if(v=="`")return p.tokenize=O,O(c,p);if(v=="#"&&c.peek()=="!")return c.skipToEnd(),d("meta","meta");if(v=="#"&&c.eatWhile(o))return d("variable","property");if(v=="<"&&c.match("!--")||v=="-"&&c.match("->")&&!/\S/.test(c.string.slice(0,c.start)))return c.skipToEnd(),d("comment","comment");if(a.test(v))return(v!=">"||!p.lexical||p.lexical.type!=">")&&(c.eat("=")?(v=="!"||v=="=")&&c.eat("="):/[<>*+\-|&?]/.test(v)&&(c.eat(v),v==">"&&c.eat(v))),v=="?"&&c.eat(".")?d("."):d("operator","operator",c.current());if(o.test(v)){c.eatWhile(o);var $=c.current();if(p.lastType!="."){if(s.propertyIsEnumerable($)){var T=s[$];return d(T.type,T.style,$)}if($=="async"&&c.match(/^(\s|\/\*([^*]|\*(?!\/))*?\*\/)*[\[\(\w]/,!1))return d("async","keyword",$)}return d("variable","variable",$)}}function g(c){return function(p,v){var $=!1,T;if(r&&p.peek()=="@"&&p.match(u))return v.tokenize=y,d("jsonld-keyword","meta");for(;(T=p.next())!=null&&!(T==c&&!$);)$=!$&&T=="\\";return $||(v.tokenize=y),d("string","string")}}function w(c,p){for(var v=!1,$;$=c.next();){if($=="/"&&v){p.tokenize=y;break}v=$=="*"}return d("comment","comment")}function O(c,p){for(var v=!1,$;($=c.next())!=null;){if(!v&&($=="`"||$=="$"&&c.eat("{"))){p.tokenize=y;break}v=!v&&$=="\\"}return d("quasi","string.special",c.current())}var k="([{}])";function R(c,p){p.fatArrowAt&&(p.fatArrowAt=null);var v=c.string.indexOf("=>",c.start);if(!(v<0)){if(i){var $=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(c.string.slice(c.start,v));$&&(v=$.index)}for(var T=0,J=!1,Q=v-1;Q>=0;--Q){var Ue=c.string.charAt(Q),Xe=k.indexOf(Ue);if(Xe>=0&&Xe<3){if(!T){++Q;break}if(--T==0){Ue=="("&&(J=!0);break}}else if(Xe>=3&&Xe<6)++T;else if(o.test(Ue))J=!0;else if(/["'\/`]/.test(Ue))for(;;--Q){if(Q==0)return;var Sn=c.string.charAt(Q-1);if(Sn==Ue&&c.string.charAt(Q-2)!="\\"){Q--;break}}else if(J&&!T){++Q;break}}J&&!T&&(p.fatArrowAt=Q)}}var x={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,import:!0,"jsonld-keyword":!0};function b(c,p,v,$,T,J){this.indented=c,this.column=p,this.type=v,this.prev=T,this.info=J,$!=null&&(this.align=$)}function U(c,p){for(var v=c.localVars;v;v=v.next)if(v.name==p)return!0;for(var $=c.context;$;$=$.prev)for(var v=$.vars;v;v=v.next)if(v.name==p)return!0}function te(c,p,v,$,T){var J=c.cc;for(_.state=c,_.stream=T,_.marked=null,_.cc=J,_.style=p,c.lexical.hasOwnProperty("align")||(c.lexical.align=!0);;){var Q=J.length?J.pop():n?oe:ve;if(Q(v,$)){for(;J.length&&J[J.length-1].lex;)J.pop()();return _.marked?_.marked:v=="variable"&&U(c,$)?"variableName.local":p}}}var _={state:null,column:null,marked:null,cc:null};function A(){for(var c=arguments.length-1;c>=0;c--)_.cc.push(arguments[c])}function m(){return A.apply(null,arguments),!0}function ee(c,p){for(var v=p;v;v=v.next)if(v.name==c)return!0;return!1}function Y(c){var p=_.state;if(_.marked="def",p.context){if(p.lexical.info=="var"&&p.context&&p.context.block){var v=Pe(c,p.context);if(v!=null){p.context=v;return}}else if(!ee(c,p.localVars)){p.localVars=new Tt(c,p.localVars);return}}t.globalVars&&!ee(c,p.globalVars)&&(p.globalVars=new Tt(c,p.globalVars))}function Pe(c,p){if(p)if(p.block){var v=Pe(c,p.prev);return v?v==p.prev?p:new Ze(v,p.vars,!0):null}else return ee(c,p.vars)?p:new Ze(p.prev,new Tt(c,p.vars),!1);else return null}function ot(c){return c=="public"||c=="private"||c=="protected"||c=="abstract"||c=="readonly"}function Ze(c,p,v){this.prev=c,this.vars=p,this.block=v}function Tt(c,p){this.name=c,this.next=p}var pi=new Tt("this",new Tt("arguments",null));function St(){_.state.context=new Ze(_.state.context,_.state.localVars,!1),_.state.localVars=pi}function hi(){_.state.context=new Ze(_.state.context,_.state.localVars,!0),_.state.localVars=null}St.lex=hi.lex=!0;function st(){_.state.localVars=_.state.context.vars,_.state.context=_.state.context.prev}st.lex=!0;function F(c,p){var v=function(){var $=_.state,T=$.indented;if($.lexical.type=="stat")T=$.lexical.indented;else for(var J=$.lexical;J&&J.type==")"&&J.align;J=J.prev)T=J.indented;$.lexical=new b(T,_.stream.column(),c,null,$.lexical,p)};return v.lex=!0,v}function N(){var c=_.state;c.lexical.prev&&(c.lexical.type==")"&&(c.indented=c.lexical.indented),c.lexical=c.lexical.prev)}N.lex=!0;function z(c){function p(v){return v==c?m():c==";"||v=="}"||v==")"||v=="]"?A():m(p)}return p}function ve(c,p){return c=="var"?m(F("vardef",p),ma,z(";"),N):c=="keyword a"?m(F("form"),fa,ve,N):c=="keyword b"?m(F("form"),ve,N):c=="keyword d"?_.stream.match(/^\s*$/,!1)?m():m(F("stat"),kr,z(";"),N):c=="debugger"?m(z(";")):c=="{"?m(F("}"),hi,_i,N,st):c==";"?m():c=="if"?(_.state.lexical.info=="else"&&_.state.cc[_.state.cc.length-1]==N&&_.state.cc.pop()(),m(F("form"),fa,ve,N,Ou)):c=="function"?m(Wt):c=="for"?m(F("form"),hi,Nu,ve,st,N):c=="class"||i&&p=="interface"?(_.marked="keyword",m(F("form",c=="class"?c:p),Du,N)):c=="variable"?i&&p=="declare"?(_.marked="keyword",m(ve)):i&&(p=="module"||p=="enum"||p=="type")&&_.stream.match(/^\s*\w/,!1)?(_.marked="keyword",p=="enum"?m(ju):p=="type"?m(Lu,z("operator"),K,z(";")):m(F("form"),at,z("{"),F("}"),_i,N,N)):i&&p=="namespace"?(_.marked="keyword",m(F("form"),oe,ve,N)):i&&p=="abstract"?(_.marked="keyword",m(ve)):m(F("stat"),Oc):c=="switch"?m(F("form"),fa,z("{"),F("}","switch"),hi,_i,N,N,st):c=="case"?m(oe,z(":")):c=="default"?m(z(":")):c=="catch"?m(F("form"),St,Ic,ve,N,st):c=="export"?m(F("stat"),Vc,N):c=="import"?m(F("stat"),Gc,N):c=="async"?m(ve):p=="@"?m(oe,ve):A(F("stat"),oe,z(";"),N)}function Ic(c){if(c=="(")return m(lr,z(")"))}function oe(c,p){return Iu(c,p,!1)}function Be(c,p){return Iu(c,p,!0)}function fa(c){return c!="("?A():m(F(")"),kr,z(")"),N)}function Iu(c,p,v){if(_.state.fatArrowAt==_.stream.start){var $=v?Pu:Mu;if(c=="(")return m(St,F(")"),xe(lr,")"),N,z("=>"),$,st);if(c=="variable")return A(St,at,z("=>"),$,st)}var T=v?Ir:ar;return x.hasOwnProperty(c)?m(T):c=="function"?m(Wt,T):c=="class"||i&&p=="interface"?(_.marked="keyword",m(F("form"),Hc,N)):c=="keyword c"||c=="async"?m(v?Be:oe):c=="("?m(F(")"),kr,z(")"),N,T):c=="operator"||c=="spread"?m(v?Be:oe):c=="["?m(F("]"),Kc,N,T):c=="{"?$n(yi,"}",null,T):c=="quasi"?A(mi,T):c=="new"?m(Pc(v)):m()}function kr(c){return c.match(/[;\}\)\],]/)?A():A(oe)}function ar(c,p){return c==","?m(kr):Ir(c,p,!1)}function Ir(c,p,v){var $=v==!1?ar:Ir,T=v==!1?oe:Be;if(c=="=>")return m(St,v?Pu:Mu,st);if(c=="operator")return/\+\+|--/.test(p)||i&&p=="!"?m($):i&&p=="<"&&_.stream.match(/^([^<>]|<[^<>]*>)*>\s*\(/,!1)?m(F(">"),xe(K,">"),N,$):p=="?"?m(oe,z(":"),T):m(T);if(c=="quasi")return A(mi,$);if(c!=";"){if(c=="(")return $n(Be,")","call",$);if(c==".")return m(Nc,$);if(c=="[")return m(F("]"),kr,z("]"),N,$);if(i&&p=="as")return _.marked="keyword",m(K,$);if(c=="regexp")return _.state.lastType=_.marked="operator",_.stream.backUp(_.stream.pos-_.stream.start-1),m(T)}}function mi(c,p){return c!="quasi"?A():p.slice(p.length-2)!="${"?m(mi):m(kr,Mc)}function Mc(c){if(c=="}")return _.marked="string.special",_.state.tokenize=O,m(mi)}function Mu(c){return R(_.stream,_.state),A(c=="{"?ve:oe)}function Pu(c){return R(_.stream,_.state),A(c=="{"?ve:Be)}function Pc(c){return function(p){return p=="."?m(c?Rc:Cc):p=="variable"&&i?m(Bc,c?Ir:ar):A(c?Be:oe)}}function Cc(c,p){if(p=="target")return _.marked="keyword",m(ar)}function Rc(c,p){if(p=="target")return _.marked="keyword",m(Ir)}function Oc(c){return c==":"?m(N,ve):A(ar,z(";"),N)}function Nc(c){if(c=="variable")return _.marked="property",m()}function yi(c,p){if(c=="async")return _.marked="property",m(yi);if(c=="variable"||_.style=="keyword"){if(_.marked="property",p=="get"||p=="set")return m(Lc);var v;return i&&_.state.fatArrowAt==_.stream.start&&(v=_.stream.match(/^\s*:\s*/,!1))&&(_.state.fatArrowAt=_.stream.pos+v[0].length),m(ur)}else{if(c=="number"||c=="string")return _.marked=r?"property":_.style+" property",m(ur);if(c=="jsonld-keyword")return m(ur);if(i&&ot(p))return _.marked="keyword",m(yi);if(c=="[")return m(oe,Mr,z("]"),ur);if(c=="spread")return m(Be,ur);if(p=="*")return _.marked="keyword",m(yi);if(c==":")return A(ur)}}function Lc(c){return c!="variable"?A(ur):(_.marked="property",m(Wt))}function ur(c){if(c==":")return m(Be);if(c=="(")return A(Wt)}function xe(c,p,v){function $(T,J){if(v?v.indexOf(T)>-1:T==","){var Q=_.state.lexical;return Q.info=="call"&&(Q.pos=(Q.pos||0)+1),m(function(Ue,Xe){return Ue==p||Xe==p?A():A(c)},$)}return T==p||J==p?m():v&&v.indexOf(";")>-1?A(c):m(z(p))}return function(T,J){return T==p||J==p?m():A(c,$)}}function $n(c,p,v){for(var $=3;$<arguments.length;$++)_.cc.push(arguments[$]);return m(F(p,v),xe(c,p),N)}function _i(c){return c=="}"?m():A(ve,_i)}function Mr(c,p){if(i){if(c==":")return m(K);if(p=="?")return m(Mr)}}function Dc(c,p){if(i&&(c==":"||p=="in"))return m(K)}function Cu(c){if(i&&c==":")return _.stream.match(/^\s*\w+\s+is\b/,!1)?m(oe,Fc,K):m(K)}function Fc(c,p){if(p=="is")return _.marked="keyword",m()}function K(c,p){if(p=="keyof"||p=="typeof"||p=="infer"||p=="readonly")return _.marked="keyword",m(p=="typeof"?Be:K);if(c=="variable"||p=="void")return _.marked="type",m(kt);if(p=="|"||p=="&")return m(K);if(c=="string"||c=="number"||c=="atom")return m(kt);if(c=="[")return m(F("]"),xe(K,"]",","),N,kt);if(c=="{")return m(F("}"),da,N,kt);if(c=="(")return m(xe(ha,")"),qc,kt);if(c=="<")return m(xe(K,">"),K);if(c=="quasi")return A(pa,kt)}function qc(c){if(c=="=>")return m(K)}function da(c){return c.match(/[\}\)\]]/)?m():c==","||c==";"?m(da):A(Tn,da)}function Tn(c,p){if(c=="variable"||_.style=="keyword")return _.marked="property",m(Tn);if(p=="?"||c=="number"||c=="string")return m(Tn);if(c==":")return m(K);if(c=="[")return m(z("variable"),Dc,z("]"),Tn);if(c=="(")return A(Cr,Tn);if(!c.match(/[;\}\)\],]/))return m()}function pa(c,p){return c!="quasi"?A():p.slice(p.length-2)!="${"?m(pa):m(K,jc)}function jc(c){if(c=="}")return _.marked="string.special",_.state.tokenize=O,m(pa)}function ha(c,p){return c=="variable"&&_.stream.match(/^\s*[?:]/,!1)||p=="?"?m(ha):c==":"?m(K):c=="spread"?m(ha):A(K)}function kt(c,p){if(p=="<")return m(F(">"),xe(K,">"),N,kt);if(p=="|"||c=="."||p=="&")return m(K);if(c=="[")return m(K,z("]"),kt);if(p=="extends"||p=="implements")return _.marked="keyword",m(K);if(p=="?")return m(K,z(":"),K)}function Bc(c,p){if(p=="<")return m(F(">"),xe(K,">"),N,kt)}function vi(){return A(K,Uc)}function Uc(c,p){if(p=="=")return m(K)}function ma(c,p){return p=="enum"?(_.marked="keyword",m(ju)):A(at,Mr,Ut,zc)}function at(c,p){if(i&&ot(p))return _.marked="keyword",m(at);if(c=="variable")return Y(p),m();if(c=="spread")return m(at);if(c=="[")return $n(Wc,"]");if(c=="{")return $n(Ru,"}")}function Ru(c,p){return c=="variable"&&!_.stream.match(/^\s*:/,!1)?(Y(p),m(Ut)):(c=="variable"&&(_.marked="property"),c=="spread"?m(at):c=="}"?A():c=="["?m(oe,z("]"),z(":"),Ru):m(z(":"),at,Ut))}function Wc(){return A(at,Ut)}function Ut(c,p){if(p=="=")return m(Be)}function zc(c){if(c==",")return m(ma)}function Ou(c,p){if(c=="keyword b"&&p=="else")return m(F("form","else"),ve,N)}function Nu(c,p){if(p=="await")return m(Nu);if(c=="(")return m(F(")"),Jc,N)}function Jc(c){return c=="var"?m(ma,Pr):c=="variable"?m(Pr):A(Pr)}function Pr(c,p){return c==")"?m():c==";"?m(Pr):p=="in"||p=="of"?(_.marked="keyword",m(oe,Pr)):A(oe,Pr)}function Wt(c,p){if(p=="*")return _.marked="keyword",m(Wt);if(c=="variable")return Y(p),m(Wt);if(c=="(")return m(St,F(")"),xe(lr,")"),N,Cu,ve,st);if(i&&p=="<")return m(F(">"),xe(vi,">"),N,Wt)}function Cr(c,p){if(p=="*")return _.marked="keyword",m(Cr);if(c=="variable")return Y(p),m(Cr);if(c=="(")return m(St,F(")"),xe(lr,")"),N,Cu,st);if(i&&p=="<")return m(F(">"),xe(vi,">"),N,Cr)}function Lu(c,p){if(c=="keyword"||c=="variable")return _.marked="type",m(Lu);if(p=="<")return m(F(">"),xe(vi,">"),N)}function lr(c,p){return p=="@"&&m(oe,lr),c=="spread"?m(lr):i&&ot(p)?(_.marked="keyword",m(lr)):i&&c=="this"?m(Mr,Ut):A(at,Mr,Ut)}function Hc(c,p){return c=="variable"?Du(c,p):gi(c,p)}function Du(c,p){if(c=="variable")return Y(p),m(gi)}function gi(c,p){if(p=="<")return m(F(">"),xe(vi,">"),N,gi);if(p=="extends"||p=="implements"||i&&c==",")return p=="implements"&&(_.marked="keyword"),m(i?K:oe,gi);if(c=="{")return m(F("}"),It,N)}function It(c,p){if(c=="async"||c=="variable"&&(p=="static"||p=="get"||p=="set"||i&&ot(p))&&_.stream.match(/^\s+#?[\w$\xa1-\uffff]/,!1))return _.marked="keyword",m(It);if(c=="variable"||_.style=="keyword")return _.marked="property",m(xi,It);if(c=="number"||c=="string")return m(xi,It);if(c=="[")return m(oe,Mr,z("]"),xi,It);if(p=="*")return _.marked="keyword",m(It);if(i&&c=="(")return A(Cr,It);if(c==";"||c==",")return m(It);if(c=="}")return m();if(p=="@")return m(oe,It)}function xi(c,p){if(p=="!"||p=="?")return m(xi);if(c==":")return m(K,Ut);if(p=="=")return m(Be);var v=_.state.lexical.prev,$=v&&v.info=="interface";return A($?Cr:Wt)}function Vc(c,p){return p=="*"?(_.marked="keyword",m(ya,z(";"))):p=="default"?(_.marked="keyword",m(oe,z(";"))):c=="{"?m(xe(Fu,"}"),ya,z(";")):A(ve)}function Fu(c,p){if(p=="as")return _.marked="keyword",m(z("variable"));if(c=="variable")return A(Be,Fu)}function Gc(c){return c=="string"?m():c=="("?A(oe):c=="."?A(ar):A(bi,qu,ya)}function bi(c,p){return c=="{"?$n(bi,"}"):(c=="variable"&&Y(p),p=="*"&&(_.marked="keyword"),m(Yc))}function qu(c){if(c==",")return m(bi,qu)}function Yc(c,p){if(p=="as")return _.marked="keyword",m(bi)}function ya(c,p){if(p=="from")return _.marked="keyword",m(oe)}function Kc(c){return c=="]"?m():A(xe(Be,"]"))}function ju(){return A(F("form"),at,z("{"),F("}"),xe(Qc,"}"),N,N)}function Qc(){return A(at,Ut)}function Zc(c,p){return c.lastType=="operator"||c.lastType==","||a.test(p.charAt(0))||/[,.]/.test(p.charAt(0))}function Xc(c,p,v){return p.tokenize==y&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(p.lastType)||p.lastType=="quasi"&&/\{\s*$/.test(c.string.slice(0,c.pos-(v||0)))}return{name:t.name,startState:function(c){var p={tokenize:y,lastType:"sof",cc:[],lexical:new b(-c,0,"block",!1),localVars:t.localVars,context:t.localVars&&new Ze(null,null,!1),indented:0};return t.globalVars&&typeof t.globalVars=="object"&&(p.globalVars=t.globalVars),p},token:function(c,p){if(c.sol()&&(p.lexical.hasOwnProperty("align")||(p.lexical.align=!1),p.indented=c.indentation(),R(c,p)),p.tokenize!=w&&c.eatSpace())return null;var v=p.tokenize(c,p);return f=="comment"?v:(p.lastType=f=="operator"&&(h=="++"||h=="--")?"incdec":f,te(p,v,f,h,c))},indent:function(c,p,v){if(c.tokenize==w||c.tokenize==O)return null;if(c.tokenize!=y)return 0;var $=p&&p.charAt(0),T=c.lexical,J;if(!/^\s*else\b/.test(p))for(var Q=c.cc.length-1;Q>=0;--Q){var Ue=c.cc[Q];if(Ue==N)T=T.prev;else if(Ue!=Ou&&Ue!=st)break}for(;(T.type=="stat"||T.type=="form")&&($=="}"||(J=c.cc[c.cc.length-1])&&(J==ar||J==Ir)&&!/^[,\.=+\-*:?[\(]/.test(p));)T=T.prev;e&&T.type==")"&&T.prev.type=="stat"&&(T=T.prev);var Xe=T.type,Sn=$==Xe;return Xe=="vardef"?T.indented+(c.lastType=="operator"||c.lastType==","?T.info.length+1:0):Xe=="form"&&$=="{"?T.indented:Xe=="form"?T.indented+v.unit:Xe=="stat"?T.indented+(Zc(c,p)?e||v.unit:0):T.info=="switch"&&!Sn&&t.doubleIndentSwitch!=!1?T.indented+(/^(?:case|default)\b/.test(p)?v.unit:2*v.unit):T.align?T.column+(Sn?0:1):T.indented+(Sn?0:v.unit)},languageData:{indentOnInput:/^\s*(?:case .*?:|default:|\{|\})$/,commentTokens:n?void 0:{line:"//",block:{open:"/*",close:"*/"}},closeBrackets:{brackets:["(","[","{","'",'"',"`"]},wordChars:"$"}}}var di=aa({name:"javascript"}),T0=aa({name:"json",json:!0}),S0=aa({name:"json",jsonld:!0}),k0=aa({name:"typescript",typescript:!0});var la=require("obsidian"),ua=class extends la.FuzzySuggestModal{plugin;selectCallback;constructor(e,r){super(e.app),this.plugin=e,this.selectCallback=r}getItems(){return this.app.vault.getAllLoadedFiles().filter(r=>r instanceof la.TFile).filter(r=>r.extension==="js")}getItemText(e){return e.path}onChooseItem(e,r){this.selectCallback(e)}};var ca=class extends kc.Plugin{settings;messageManager;jsEngine;api;constructor(e,r){super(e,r),this.messageManager=new Gi(this.app,this),this.jsEngine=new ea(this.app,this),this.api=new An(this.app,this,Qr.create("PLUGIN"))}async onload(){await this.loadSettings(),this.messageManager.initStatusBarItem(),this.registerMarkdownCodeBlockProcessor("js-engine",(e,r,n)=>{n.addChild(new sa(r,this,e,n))}),this.addCommand({id:"execute-js-file",name:"Execute JS File",callback:()=>{new ua(this,async e=>{await this.api.internal.executeFileSimple(e.path)}).open()}}),this.app.workspace,await this.registerCodeMirrorMode()}onunload(){}async loadSettings(){let e=await this.loadData();this.settings=Object.assign({},Wu,e)}async saveSettings(){await this.saveData(this.settings)}async registerCodeMirrorMode(){window.CodeMirror.defineMode("js-engine",e=>({startState:()=>di.startState?.(4),blankLine:n=>di.blankLine?.(n,4),copyState:n=>di.startState?.(4),token:(n,i)=>`line-HyperMD-codeblock ${di.token?.(n,i)}`}))}};
